!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=147)}([function(t,e,n){"use strict";n(1);const i=function(t){const e=document.createElement(t.nodeName);for(let n=0;n<t.attributes.length;n++){const i=t.attributes.item(n);i&&e.setAttribute(i.name,i.value)}return e};var r;!function(t){t.getBoundingClientRect="getBoundingClientRect",t.IntersectionObserver="IntersectionObserver",t.NOTAVAILABLE="NOTAVAILABLE"}(r||(r={})),e.a={ViewableMethod:r,getFunctionObject(t){if(!t)return null;const e=t.split("."),n=e.length;let i=window;for(let t=0;t<n;t++)if(!(i=i[e[t]]))return null;return"function"==typeof i?i:null},executeCallback(t,e){const n=this.getFunctionObject(t);n&&n.apply(this,e)},loadScript(t,e,n){function i(t){e&&(t.onload=function(){e()})}if(n){const e=document.createElement("SCRIPT");e.src=t,e.type="text/javascript",i(e);const n=document.getElementsByTagName("head");if(n.length>0)n[0].appendChild(e);else{const t=document.getElementsByTagName("script")[0];if(!t||!t.parentNode)return;t.parentNode.appendChild(e)}}else{const e="yads_preloaded_js_".concat(Math.floor(999999999*Math.random()));document.write('<script id="'.concat(e,'" type="text/javascript" src="').concat(t,'"><\/script>')),i(document.getElementById(e))}},insertTag(t,e){const n=e&&document.getElementById(e);n?n.insertAdjacentHTML("beforeend",t):document.write(t)},insertScriptTag(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return;const n=e&&document.getElementById(e);if(n){const e=document.createElement("script");e.type="text/javascript",e.src=t,n.appendChild(e)}else document.write('<script type="text/javascript" src="'.concat(t,"\"></scr' + 'ipt>"))},findViewableTargetElements(t){let e=function(t){let e=[];if(t.querySelectorAll){const n=t.querySelectorAll("[data-ydntxt-item]");e=Array.from(n)}else{const n=t.getElementsByTagName("*");for(const t of n)t.hasAttribute("data-ydntxt-item")&&e.push(t)}let n=[];if(e.length>0){for(const t of e){const e=t.getAttribute("data-ydntxt-item")||"",i=parseInt(e,10);!isNaN(i)&&i>0&&(n[i-1]=t)}n.length!==e.length&&(n=e)}return n}(t);return e.length>0?e:(e=function(t){function e(t){return/^https?:\/\/im\.c\.yimg\.jp/.test(t)}const n=[],i=t.getElementsByTagName("a");for(const t of i){if(r=t.href,!/^https?:\/\/rd\.ane\.yahoo\.co\.jp\/rd\?/.test(r))continue;const i=t.getElementsByTagName("img")[0];if(i&&e(i.src)){const e=function(t){const e=t.getBoundingClientRect();return(e.right-e.left)*(e.bottom-e.top)};e(t)>e(i)?n.push(t):n.push(i)}else n.push(t)}var r;return n}(t),e.length>0?e:function(t){const e=t.getElementsByTagName("iframe");return Array.from(e).filter(t=>{return e=t.src,/^https?:\/\/(yads\.yahoo\.co\.jp|yads\.c\.yimg\.jp)\//.test(e);var e})}(t))},isInnerYadsIframe(){const t=document.createElement("a");return t.href=window.location.href,window.parent!=window&&("s.yimg.jp"===t.hostname||"i.yimg.jp"===t.hostname)&&/yads-iframe\.html$/.test(t.pathname)},isSameOrigin(){let t=window;for(;window.top!==t;){t=t.parent;try{t.document.URL}catch(t){return!1}}return!0},parseQuery(t){const e={},n=t.split("?");if(2!=n.length)return e;const i=n[1].split("&");for(const t of i){const n=t.split("=");1==n.length?e[n[0]]="":e[n[0]]=window.decodeURIComponent(n[1])}return e},appendHtml:function t(e,n){if(!e)return;const r="<html><head></head><body>".concat(n,"</body></html>");let s=null;try{s=(new DOMParser).parseFromString(r,"text/html")}catch(t){return}!function e(n,r,s){if(!r||r.length<=s||!n)return;const o=r.item(s).cloneNode(!0);if("script"===o.nodeName.toLowerCase()){const t=i(o);if(o.src&&!o.onload)return t.onload=function(){e(n,r,s+1)},void n.appendChild(t);t.text=o.text,n.appendChild(t)}else if("noscript"==o.nodeName.toLowerCase());else if(1==o.nodeType){const e=i(o);n.appendChild(e),t(e,o.innerHTML)}else n.appendChild(o);e(n,r,s+1)}(e,s.body.childNodes,0)},removeAllChildNodes(t){const e=document.getElementById(t);if(e)for(;e.firstChild;)e.removeChild(e.firstChild)},callUITemplate(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;t.callbackVersion?((e,n)=>{var i;if(!n)return;const r=document.getElementById(n);if(!r)return;this.removeAllChildNodes(n);const s=t(e,n);r.insertAdjacentHTML("beforeend",s.html),null===(i=s.callbacks)||void 0===i||i.forEach(t=>t(e,n))})(e,r):null===s?t(e,n,i,r):t(e,n,i,r,s)}}},function(t,e,n){"use strict";var i=n(5),r=n(81),s=n(82),o=n(65),a=n(19),d=n(28),c=n(6)("iterator"),l=o.values,u=function(t,e){if(t){if(t[c]!==l)try{a(t,c,l)}catch(e){t[c]=l}if(d(t,e,!0),r[e])for(var n in o)if(t[n]!==o[n])try{a(t,n,o[n])}catch(e){t[n]=o[n]}}};for(var h in r)u(i[h]&&i[h].prototype,h);u(s,"DOMTokenList")},function(t,e,n){"use strict";var i=n(30),r=Function.prototype,s=r.call,o=i&&r.bind.bind(s,s);t.exports=i?o:function(t){return function(){return s.apply(t,arguments)}}},function(t,e,n){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var i="object"==typeof document&&document.all;t.exports=void 0===i&&void 0!==i?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},function(t,e,n){"use strict";(function(e){var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()}).call(this,n(80))},function(t,e,n){"use strict";var i=n(5),r=n(40),s=n(10),o=n(54),a=n(55),d=n(56),c=i.Symbol,l=r("wks"),u=d?c.for||c:c&&c.withoutSetter||o;t.exports=function(t){return s(l,t)||(l[t]=a&&s(c,t)?c[t]:u("Symbol."+t)),l[t]}},function(t,e,n){"use strict";var i=n(3);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){"use strict";var i=n(30),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},function(t,e,n){"use strict";var i=n(13),r=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(r(t)+" is not an object")}},function(t,e,n){"use strict";var i=n(2),r=n(25),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},function(t,e,n){"use strict";var i=n(7),r=n(58),s=n(57),o=n(9),a=n(48),d=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;e.f=i?s?function(t,e,n){if(o(t),e=a(e),o(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var i=l(t,e);i&&i.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(o(t),e=a(e),o(n),r)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new d("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n(113);var i=n(34);class r{constructor(t){this.beaconSenders=Object.assign({error:new i.a({project:"ms_sp_client",dataset:"yads_client_error"}),debug:new i.a({project:"ms_sp_client",dataset:"yads_sampling",samplingRate:1e-4}),referrer:new i.a({project:"ms_sp_client",dataset:"yads_referer",samplingRate:.01})},t)}error(t){this.includesLocalFile(t.stack)||this.beaconSenders.error.send(t.toJSON())}debug(t){this.beaconSenders.debug.send(t)}referrer(t){this.beaconSenders.referrer.send(t)}includesLocalFile(){return/file:\/\//.test(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}},function(t,e,n){"use strict";var i=n(4);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},function(t,e,n){"use strict";var i=n(4),r=n(11),s=n(73),o=n(42);t.exports=function(t,e,n,a){a||(a={});var d=a.enumerable,c=void 0!==a.name?a.name:e;if(i(n)&&s(n,c,a),a.global)d?t[e]=n:o(e,n);else{try{a.unsafe?t[e]&&(d=!0):delete t[e]}catch(t){}d?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},function(t,e,n){"use strict";var i=n(47),r=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s})),n(113);class i extends Error{constructor(t){super(t.message),this.toJSON=()=>{var t;return{name:this.name,message:this.message,level:this.level,stack:null!==(t=this.stack)&&void 0!==t?t:"",location:location.href,version:"1.33.0"}},this.name=this.constructor.name,this.level=t.level,t.stack&&(this.stack=t.stack)}}class r extends i{constructor(t){super({message:t,level:"Error"})}}class s extends i{constructor(t){super({message:t.message,level:"Error",stack:t.stack})}}},function(t,e,n){"use strict";var i=n(66),r=n(20);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";var i,r,s,o=n(92),a=n(5),d=n(13),c=n(19),l=n(10),u=n(41),h=n(45),f=n(43),p=a.TypeError,m=a.WeakMap;if(o||u.state){var v=u.state||(u.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,i=function(t,e){if(v.has(t))throw new p("Object already initialized");return e.facade=t,v.set(t,e),e},r=function(t){return v.get(t)||{}},s=function(t){return v.has(t)}}else{var g=h("state");f[g]=!0,i=function(t,e){if(l(t,g))throw new p("Object already initialized");return e.facade=t,c(t,g,e),e},r=function(t){return l(t,g)?t[g]:{}},s=function(t){return l(t,g)}}t.exports={set:i,get:r,has:s,enforce:function(t){return s(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!d(e)||(n=r(e)).type!==t)throw new p("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){"use strict";var i=n(7),r=n(11),s=n(27);t.exports=i?function(t,e,n){return r.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var i=n(32),r=TypeError;t.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},function(t,e,n){"use strict";t.exports=!1},function(t,e,n){"use strict";var i,r=n(9),s=n(85),o=n(44),a=n(43),d=n(91),c=n(39),l=n(45)("IE_PROTO"),u=function(){},h=function(t){return"<script>"+t+"<\/script>"},f=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e;p="undefined"!=typeof document?document.domain&&i?f(i):((e=c("iframe")).style.display="none",d.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):f(i);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};a[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[l]=t):n=p(),void 0===e?n:s.f(n,e)}},function(t,e,n){"use strict";var i=n(5),r=n(62).f,s=n(19),o=n(14),a=n(42),d=n(93),c=n(96);t.exports=function(t,e){var n,l,u,h,f,p=t.target,m=t.global,v=t.stat;if(n=m?i:v?i[p]||a(p,{}):i[p]&&i[p].prototype)for(l in e){if(h=e[l],u=t.dontCallGetSet?(f=r(n,l))&&f.value:n[l],!c(m?l:p+(v?".":"#")+l,t.forced)&&void 0!==u){if(typeof h==typeof u)continue;d(h,u)}(t.sham||u&&u.sham)&&s(h,"sham",!0),o(n,l,h,t)}}},function(t,e,n){"use strict";n(122)},function(t,e,n){"use strict";var i=n(20),r=Object;t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(11).f,r=n(10),s=n(6)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!r(t,s)&&i(t,s,{configurable:!0,value:e})}},function(t,e,n){"use strict";var i=n(90);t.exports=function(t){var e=+t;return e!=e||0===e?0:i(e)}},function(t,e,n){"use strict";var i=n(3);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},function(t,e,n){"use strict";var i=n(2),r=i({}.toString),s=i("".slice);t.exports=function(t){return s(r(t),8,-1)}},function(t,e,n){"use strict";t.exports=function(t){return null==t}},function(t,e,n){"use strict";var i=n(5),r=n(4),s=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(i[t]):i[t]&&i[t][e]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class i{constructor(t){this.config=Object.assign({entryPoint:"https://dsb.yahoo.co.jp/api/v1/stream",clientID:"a72060e2-2747-4fff-a64b-84850dcd9e77",samplingRate:1},t)}send(t){if(1<this.config.samplingRate||this.config.samplingRate<=Math.random())return;const e={tk:this.config.clientID,r:[{data:t,p:this.config.project,d:this.config.dataset}]};window.navigator.sendBeacon&&window.navigator.sendBeacon(this.config.entryPoint,JSON.stringify(e))}}},function(t,e,n){"use strict";var i=n(36),r=n(32);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},function(t,e,n){"use strict";var i=n(4),r=n(68),s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(r(t)+" is not a function")}},function(t,e,n){"use strict";var i=n(102),r=n(8),s=n(2),o=n(103),a=n(3),d=n(9),c=n(4),l=n(32),u=n(29),h=n(61),f=n(15),p=n(20),m=n(110),v=n(35),g=n(111),w=n(112),y=n(6)("replace"),b=Math.max,_=Math.min,I=s([].concat),S=s([].push),A=s("".indexOf),O=s("".slice),E="$0"==="a".replace(/./,"$0"),k=!!/./[y]&&""===/./[y]("a","$0");o("replace",(function(t,e,n){var s=k?"$":"$0";return[function(t,n){var i=p(this),s=l(t)?void 0:v(t,y);return s?r(s,t,i,n):r(e,f(i),t,n)},function(t,r){var o=d(this),a=f(t);if("string"==typeof r&&-1===A(r,s)&&-1===A(r,"$<")){var l=n(e,o,a,r);if(l.done)return l.value}var p=c(r);p||(r=f(r));var v,y=o.global;y&&(v=o.unicode,o.lastIndex=0);for(var E,k=[];null!==(E=w(o,a))&&(S(k,E),y);)""===f(E[0])&&(o.lastIndex=m(a,h(o.lastIndex),v));for(var T,M="",R=0,P=0;P<k.length;P++){for(var x,D=f((E=k[P])[0]),C=b(_(u(E.index),a.length),0),L=[],Y=1;Y<E.length;Y++)S(L,void 0===(T=E[Y])?T:String(T));var U=E.groups;if(p){var j=I([D],L,C,a);void 0!==U&&S(j,U),x=f(i(r,void 0,j))}else x=g(D,a,C,L,U,r);C>=R&&(M+=O(a,R,C)+x,R=C+D.length)}return M+O(a,R)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!E||k)},function(t,e,n){"use strict";n(130)},function(t,e,n){"use strict";var i=n(5),r=n(13),s=i.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},function(t,e,n){"use strict";var i=n(21),r=n(41);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.35.1",mode:i?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(t,e,n){"use strict";var i=n(5),r=n(42),s=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=s},function(t,e,n){"use strict";var i=n(5),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){"use strict";var i=n(40),r=n(54),s=i("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},function(t,e,n){"use strict";var i,r,s=n(8),o=n(2),a=n(15),d=n(106),c=n(107),l=n(40),u=n(22),h=n(18).get,f=n(108),p=n(109),m=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,w=o("".charAt),y=o("".indexOf),b=o("".replace),_=o("".slice),I=(r=/b*/g,s(v,i=/a/,"a"),s(v,r,"a"),0!==i.lastIndex||0!==r.lastIndex),S=c.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(I||A||S||f||p)&&(g=function(t){var e,n,i,r,o,c,l,f=this,p=h(f),O=a(t),E=p.raw;if(E)return E.lastIndex=f.lastIndex,e=s(g,E,O),f.lastIndex=E.lastIndex,e;var k=p.groups,T=S&&f.sticky,M=s(d,f),R=f.source,P=0,x=O;if(T&&(M=b(M,"y",""),-1===y(M,"g")&&(M+="g"),x=_(O,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==w(O,f.lastIndex-1))&&(R="(?: "+R+")",x=" "+x,P++),n=new RegExp("^(?:"+R+")",M)),A&&(n=new RegExp("^"+R+"$(?!\\s)",M)),I&&(i=f.lastIndex),r=s(v,T?n:f,x),T?r?(r.input=_(r.input,P),r[0]=_(r[0],P),r.index=f.lastIndex,f.lastIndex+=r[0].length):f.lastIndex=0:I&&r&&(f.lastIndex=f.global?r.index+r[0].length:i),A&&r&&r.length>1&&s(m,r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r&&k)for(r.groups=c=u(null),o=0;o<k.length;o++)c[(l=k[o])[0]]=r[l[1]];return r}),t.exports=g},function(t,e,n){"use strict";var i=n(105),r=n(4),s=n(31),o=n(6)("toStringTag"),a=Object,d="Arguments"===s(function(){return arguments}());t.exports=i?s:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=a(t),o))?n:d?s(e):"Object"===(i=s(e))&&r(e.callee)?"Arguments":i}},function(t,e,n){"use strict";var i=n(86),r=n(59);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},function(t,e,n){"use strict";var i=n(7),r=n(10),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=r(s,"name"),d=a&&"something"===function(){}.name,c=a&&(!i||i&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:d,CONFIGURABLE:c}},function(t,e,n){"use strict";var i=n(6),r=n(22),s=n(11).f,o=i("unscopables"),a=Array.prototype;void 0===a[o]&&s(a,o,{configurable:!0,value:r(null)}),t.exports=function(t){a[o][t]=!0}},function(t,e,n){"use strict";t.exports=function(t,e){return{value:t,done:e}}},function(t,e,n){"use strict";var i=n(2),r=n(29),s=n(15),o=n(20),a=i("".charAt),d=i("".charCodeAt),c=i("".slice),l=function(t){return function(e,n){var i,l,u=s(o(e)),h=r(n),f=u.length;return h<0||h>=f?t?"":void 0:(i=d(u,h))<55296||i>56319||h+1===f||(l=d(u,h+1))<56320||l>57343?t?a(u,h):i:t?c(u,h,h+2):l-56320+(i-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class i{constructor(){this.viewableCallbacks={"view-in":null,"view-out":null},this.isViewedIn=!1,i.isSupported("viewable-callback")&&window.addEventListener("message",this.handleViewableCallbacks.bind(this),!1)}static isSupported(t){if("viewable-callback"===t){let t=!1;try{t=window!==window.top}catch(e){t=!0}return t}return!1}setViewInCallback(t){this.viewableCallbacks["view-in"]=t,this.isViewedIn&&t()}setViewOutCallback(t){this.viewableCallbacks["view-out"]=t,this.isViewedIn||t()}static setViewCallbackElement(t){const e=t.getBoundingClientRect();window.parent.postMessage("frameUpdateCallbackElement,"+Math.round(e.top)+"/"+Math.round(e.right)+"/"+Math.round(e.bottom)+"/"+Math.round(e.left),"*")}handleViewableCallbacks(t){let e,n;if(null!==t.data&&"object"==typeof t.data)e=t.data.cmd,n=t.data.eventType;else{if("string"!=typeof t.data)return;{const i=t.data.split(",");e=i[0],n=i[1]}}"vimpsMessage"!==e&&"viewStateChanged"!==e||["view-in","view-out"].includes(n)&&("view-in"===n?(this.isViewedIn=!0,this.viewableCallbacks["view-in"]&&this.viewableCallbacks["view-in"]()):"view-out"===n&&(this.isViewedIn=!1,this.viewableCallbacks["view-out"]&&this.viewableCallbacks["view-out"]()))}}},function(t,e,n){"use strict";var i=n(2),r=0,s=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+s,36)}},function(t,e,n){"use strict";var i=n(83),r=n(3),s=n(5).String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},function(t,e,n){"use strict";var i=n(55);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){"use strict";var i=n(7),r=n(3);t.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(t,e,n){"use strict";var i=n(7),r=n(3),s=n(39);t.exports=!i&&!r((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";var i=n(33),r=n(4),s=n(67),o=n(56),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&s(e.prototype,a(t))}},function(t,e,n){"use strict";var i=n(2),r=n(10),s=n(17),o=n(88).indexOf,a=n(43),d=i([].push);t.exports=function(t,e){var n,i=s(t),c=0,l=[];for(n in i)!r(a,n)&&r(i,n)&&d(l,n);for(;e.length>c;)r(i,n=e[c++])&&(~o(l,n)||d(l,n));return l}},function(t,e,n){"use strict";var i=n(29),r=Math.min;t.exports=function(t){var e=i(t);return e>0?r(e,9007199254740991):0}},function(t,e,n){"use strict";var i=n(7),r=n(8),s=n(72),o=n(27),a=n(17),d=n(48),c=n(10),l=n(58),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=a(t),e=d(e),l)try{return u(t,e)}catch(t){}if(c(t,e))return o(!r(s.f,t,e),t[e])}},function(t,e,n){"use strict";var i,r,s,o=n(3),a=n(4),d=n(13),c=n(22),l=n(64),u=n(14),h=n(6),f=n(21),p=h("iterator"),m=!1;[].keys&&("next"in(s=[].keys())?(r=l(l(s)))!==Object.prototype&&(i=r):m=!0),!d(i)||o((function(){var t={};return i[p].call(t)!==t}))?i={}:f&&(i=c(i)),a(i[p])||u(i,p,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},function(t,e,n){"use strict";var i=n(10),r=n(4),s=n(25),o=n(45),a=n(97),d=o("IE_PROTO"),c=Object,l=c.prototype;t.exports=a?c.getPrototypeOf:function(t){var e=s(t);if(i(e,d))return e[d];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof c?l:null}},function(t,e,n){"use strict";var i=n(17),r=n(50),s=n(26),o=n(18),a=n(11).f,d=n(71),c=n(51),l=n(21),u=n(7),h=o.set,f=o.getterFor("Array Iterator");t.exports=d(Array,"Array",(function(t,e){h(this,{type:"Array Iterator",target:i(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,c(void 0,!0);switch(t.kind){case"keys":return c(n,!1);case"values":return c(e[n],!1)}return c([n,e[n]],!1)}),"values");var p=s.Arguments=s.Array;if(r("keys"),r("values"),r("entries"),!l&&u&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(t){}},function(t,e,n){"use strict";var i=n(2),r=n(3),s=n(31),o=Object,a=i("".split);t.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?a(t,""):o(t)}:o},function(t,e,n){"use strict";var i=n(2);t.exports=i({}.isPrototypeOf)},function(t,e,n){"use strict";var i=String;t.exports=function(t){try{return i(t)}catch(t){return"Object"}}},function(t,e,n){"use strict";var i=n(60),r=n(44);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){"use strict";var i=n(61);t.exports=function(t){return i(t.length)}},function(t,e,n){"use strict";var i=n(23),r=n(8),s=n(21),o=n(49),a=n(4),d=n(76),c=n(64),l=n(98),u=n(28),h=n(19),f=n(14),p=n(6),m=n(26),v=n(63),g=o.PROPER,w=o.CONFIGURABLE,y=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,_=p("iterator"),I=function(){return this};t.exports=function(t,e,n,o,p,v,S){d(n,e,o);var A,O,E,k=function(t){if(t===p&&x)return x;if(!b&&t&&t in R)return R[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",M=!1,R=t.prototype,P=R[_]||R["@@iterator"]||p&&R[p],x=!b&&P||k(p),D="Array"===e&&R.entries||P;if(D&&(A=c(D.call(new t)))!==Object.prototype&&A.next&&(s||c(A)===y||(l?l(A,y):a(A[_])||f(A,_,I)),u(A,T,!0,!0),s&&(m[T]=I)),g&&"values"===p&&P&&"values"!==P.name&&(!s&&w?h(R,"name","values"):(M=!0,x=function(){return r(P,this)})),p)if(O={values:k("values"),keys:v?x:k("keys"),entries:k("entries")},S)for(E in O)(b||M||!(E in R))&&f(R,E,O[E]);else i({target:e,proto:!0,forced:b||M},O);return s&&!S||R[_]===x||f(R,_,x,{name:p}),m[e]=x,O}},function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!i.call({1:2},1);e.f=s?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e,n){"use strict";var i=n(2),r=n(3),s=n(4),o=n(10),a=n(7),d=n(49).CONFIGURABLE,c=n(74),l=n(18),u=l.enforce,h=l.get,f=String,p=Object.defineProperty,m=i("".slice),v=i("".replace),g=i([].join),w=a&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),b=t.exports=function(t,e,n){"Symbol("===m(f(e),0,7)&&(e="["+v(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||d&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),w&&n&&o(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=u(t);return o(i,"source")||(i.source=g(y,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return s(this)&&h(this).source||c(this)}),"toString")},function(t,e,n){"use strict";var i=n(2),r=n(4),s=n(41),o=i(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},function(t,e,n){"use strict";e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var i=n(63).IteratorPrototype,r=n(22),s=n(27),o=n(28),a=n(26),d=function(){return this};t.exports=function(t,e,n,c){var l=e+" Iterator";return t.prototype=r(i,{next:s(+!c,n)}),o(t,l,!1,!0),a[l]=d,t}},function(t,e,n){"use strict";var i=n(132),r=n(36),s=n(30),o=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:s?o(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var i=n(47),r=n(35),s=n(32),o=n(26),a=n(6)("iterator");t.exports=function(t){if(!s(t))return r(t,a)||r(t,"@@iterator")||o[i(t)]}},function(t,e,n){"use strict";function i(t){if("http:"===window.location.protocol)return t;const e=/^http:\/\/(i|ai|ah)\.yimg\.jp\//;return e.test(t)?t.replace(e,"https://s.yimg.jp/"):t.replace(/^http:\/\//,"https://")}function r(t,e){var n;if("string"!=typeof t||"function"!=typeof e)return;const r=document.createElement("SCRIPT");r.src=i(t),r.type="text/javascript",r.onload=function(){e()},null===(n=document.getElementsByTagName("script")[0].parentNode)||void 0===n||n.appendChild(r)}function s(t){if(!t||"string"!=typeof t)return null;const e=t.split(".");let n=window;for(const t of e)if(!(n=n[t]))return null;return"function"==typeof n?n:null}function o(t){var e;if(!d(t))return{};const n=null===(e=null==t?void 0:t.creative_options)||void 0===e?void 0:e.script;return void 0===n||void 0===(null==n?void 0:n.js_file)||void 0===(null==n?void 0:n.callback)?t.script:n}function a(t,e){var n;if(!d(t))return{};let i;return d(e)&&(i=null==e?void 0:e.sqb_wrapper,d(i)&&Object.keys(i).length>0)?i:(i=null===(n=null==t?void 0:t.creative_options)||void 0===n?void 0:n.sqb_wrapper,void 0===i||"object"!=typeof i?t.sqb_wrapper||{}:0===Object.keys(i).length?t.sqb_wrapper:i)}function d(t){return"object"==typeof t&&null!==t}function c(t,e){var n;let i;return i=null==e?void 0:e.filler_options,d(i)&&Object.keys(i).length>0?i:(i=null===(n=null==t?void 0:t.creative_options)||void 0===n?void 0:n.filler_options,d(i)&&Object.keys(i).length>0?i:{})}function l(t,e){window.YAHOO=window.YAHOO||{},window.YAHOO.JP=window.YAHOO.JP||{},window.YAHOO.JP.anemos=window.YAHOO.JP.anemos||{},window.YAHOO.JP.anemos.yads=window.YAHOO.JP.anemos.yads||{},window.YAHOO.JP.anemos.yads.ydn=window.YAHOO.JP.anemos.yads.ydn||{},window.YAHOO.JP.anemos.yads.ydn[t]=window.YAHOO.JP.anemos.yads.ydn[t]||{},window.YAHOO.JP.anemos.yads.ydn[t][e]=window.YAHOO.JP.anemos.yads.ydn[t][e]||{}}function u(t,e,n,r){var s;const o=i(t.image_url),a=t.ClickUrl,d=t.target||(null===(s=t.style)||void 0===s?void 0:s.target)||"_top",c=t.media_w,l=t.media_h;return'<a href="'.concat(a,'" target="').concat(d,'"><img src="').concat(o,'" width="').concat(c,'" height="').concat(l,'" border="0" /></a>')}function h(t,e,n,i){const r=document.getElementById(i),s=u(t);r&&(r.innerHTML=s)}function f(t){const e=(()=>{const e="horizontal"===t.direction?"margin-right:".concat(t.ad_space_size):"margin-bottom:".concat(t.ad_space_size);return'<div id="'.concat(t.id_1st,'" style="float:left; clear:none; width:').concat(t.ad_w,"; height:").concat(t.ad_h,"; ").concat(e,';"></div>')})(),n='<div id="'.concat(t.id_2nd,'" style="float:right; clear:none; width:').concat(t.ad_w,"; height:").concat(t.ad_h,'; text-align:center;"></div>'),i='<div style="margin:0 auto; width:'.concat(t.total_w,"; height:").concat(t.total_h,'; clear:both; overflow:hidden; text-align:center;">').concat(e).concat(n,"</div>");return t.use_background?'<div style="width:'.concat(t.bg_w,"; background:").concat(t.bg_color,"; padding:").concat(t.bg_pd,'">').concat(i,"</div>"):i}function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(new Date).getTime(),i={first:"yads-sqb-1st-".concat(n),second:"yads-sqb-2nd-".concat(n)},r=a(t[0],e),s=r.direction||"horizontal",o=parseInt(r.ad_w,10)||300,d=parseInt(r.ad_h,10)||250,c=parseInt(r.ad_space_size,10)||15;function l(){return"vertical"===s?{totalW:o,totalH:2*d+c}:{totalW:2*o+c,totalH:d}}const{totalW:u,totalH:h}=l(),f={direction:s,id_1st:i.first,id_2nd:i.second,ad_w:"".concat(o,"px"),ad_h:"".concat(d,"px"),ad_space_size:"".concat(c,"px"),total_w:"".concat(u,"px"),total_h:"".concat(h,"px"),use_background:r.use_background||!1,bg_color:r.bg_color||"#fff",bg_w:r.bg_w||"".concat(u,"px"),bg_pd:r.bg_pd||"0px"};return f}function m(t,e,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const d=document.getElementById(i);if(!t||0===t.length||!d)return;if(1===t.length){const e=c(t[0],a);if(0===Object.keys(e).length)return;const n=Object.assign({ad_main_type:"filler"},e);t.push(n)}const l=p(t,a),u=f(l);function m(t,i){var r;const a=s(o(t).callback);return!!a&&(null===(r=window.YJ_YADS.innerFuncs)||void 0===r||r.callUITemplate(a,[t],e,n,i),!0)}function v(t,e){"filler"!==t.ad_main_type?m(t,e)||r("https://s.yimg.jp/images/listing/tool/yads/"+o(t).js_file,(function(){m(t,e)})):h(t,0,0,e)}d.innerHTML=u,["id_1st","id_2nd"].forEach((e,n)=>{v(t[n],l[e])})}n.r(e),n.d(e,"renderAd",(function(){return m})),n(37),n(1),l("creative","filler"),YAHOO.JP.anemos.yads.ydn.creative.filler.createAdHtml=u,l("position","SQB"),window.YAHOO.JP.anemos.yads.ydn.position.SQB.renderAd||(window.YAHOO.JP.anemos.yads.ydn.position.SQB.renderAd=m)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var i=n(39)("span").classList,r=i&&i.constructor&&i.constructor.prototype;t.exports=r===Object.prototype?void 0:r},function(t,e,n){"use strict";var i,r,s=n(5),o=n(84),a=s.process,d=s.Deno,c=a&&a.versions||d&&d.version,l=c&&c.v8;l&&(r=(i=l.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=+i[1]),t.exports=r},function(t,e,n){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(t,e,n){"use strict";var i=n(7),r=n(57),s=n(11),o=n(9),a=n(17),d=n(69);e.f=i&&!r?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),r=d(e),c=r.length,l=0;c>l;)s.f(t,n=r[l++],i[n]);return t}},function(t,e,n){"use strict";var i=n(8),r=n(13),s=n(59),o=n(35),a=n(87),d=n(6),c=TypeError,l=d("toPrimitive");t.exports=function(t,e){if(!r(t)||s(t))return t;var n,d=o(t,l);if(d){if(void 0===e&&(e="default"),n=i(d,t,e),!r(n)||s(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},function(t,e,n){"use strict";var i=n(8),r=n(4),s=n(13),o=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!s(a=i(n,t)))return a;if(r(n=t.valueOf)&&!s(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!s(a=i(n,t)))return a;throw new o("Can't convert object to primitive value")}},function(t,e,n){"use strict";var i=n(17),r=n(89),s=n(70),o=function(t){return function(e,n,o){var a,d=i(e),c=s(d),l=r(o,c);if(t&&n!=n){for(;c>l;)if((a=d[l++])!=a)return!0}else for(;c>l;l++)if((t||l in d)&&d[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},function(t,e,n){"use strict";var i=n(29),r=Math.max,s=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):s(n,e)}},function(t,e,n){"use strict";var i=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?r:i)(e)}},function(t,e,n){"use strict";var i=n(33);t.exports=i("document","documentElement")},function(t,e,n){"use strict";var i=n(5),r=n(4),s=i.WeakMap;t.exports=r(s)&&/native code/.test(String(s))},function(t,e,n){"use strict";var i=n(10),r=n(94),s=n(62),o=n(11);t.exports=function(t,e,n){for(var a=r(e),d=o.f,c=s.f,l=0;l<a.length;l++){var u=a[l];i(t,u)||n&&i(n,u)||d(t,u,c(e,u))}}},function(t,e,n){"use strict";var i=n(33),r=n(2),s=n(95),o=n(75),a=n(9),d=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=s.f(a(t)),n=o.f;return n?d(e,n(t)):e}},function(t,e,n){"use strict";var i=n(60),r=n(44).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){"use strict";var i=n(3),r=n(4),s=/#|\.prototype\./,o=function(t,e){var n=d[a(t)];return n===l||n!==c&&(r(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},d=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,n){"use strict";var i=n(3);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";var i=n(99),r=n(9),s=n(100);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=i(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),s(i),e?t(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){"use strict";var i=n(2),r=n(36);t.exports=function(t,e,n){try{return i(r(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},function(t,e,n){"use strict";var i=n(101),r=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s("Can't set "+r(t)+" as a prototype")}},function(t,e,n){"use strict";var i=n(13);t.exports=function(t){return i(t)||null===t}},function(t,e,n){"use strict";var i=n(30),r=Function.prototype,s=r.apply,o=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(s):function(){return o.apply(s,arguments)})},function(t,e,n){"use strict";n(104);var i=n(8),r=n(14),s=n(46),o=n(3),a=n(6),d=n(19),c=a("species"),l=RegExp.prototype;t.exports=function(t,e,n,u){var h=a(t),f=!o((function(){var e={};return e[h]=function(){return 7},7!==""[t](e)})),p=f&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!f||!p||n){var m=/./[h],v=e(h,""[t],(function(t,e,n,r,o){var a=e.exec;return a===s||a===l.exec?f&&!o?{done:!0,value:i(m,e,n,r)}:{done:!0,value:i(t,n,e,r)}:{done:!1}}));r(String.prototype,t,v[0]),r(l,h,v[1])}u&&d(l[h],"sham",!0)}},function(t,e,n){"use strict";var i=n(23),r=n(46);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(t,e,n){"use strict";var i={};i[n(6)("toStringTag")]="z",t.exports="[object z]"===String(i)},function(t,e,n){"use strict";var i=n(9);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var i=n(3),r=n(5).RegExp,s=i((function(){var t=r("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),o=s||i((function(){return!r("a","y").sticky})),a=s||i((function(){var t=r("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:o,UNSUPPORTED_Y:s}},function(t,e,n){"use strict";var i=n(3),r=n(5).RegExp;t.exports=i((function(){var t=r(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},function(t,e,n){"use strict";var i=n(3),r=n(5).RegExp;t.exports=i((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){"use strict";var i=n(52).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){"use strict";var i=n(2),r=n(25),s=Math.floor,o=i("".charAt),a=i("".replace),d=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,i,u,h){var f=n+t.length,p=i.length,m=l;return void 0!==u&&(u=r(u),m=c),a(h,m,(function(r,a){var c;switch(o(a,0)){case"$":return"$";case"&":return t;case"`":return d(e,0,n);case"'":return d(e,f);case"<":c=u[d(a,1,-1)];break;default:var l=+a;if(0===l)return r;if(l>p){var h=s(l/10);return 0===h?r:h<=p?void 0===i[h-1]?o(a,1):i[h-1]+o(a,1):r}c=i[l-1]}return void 0===c?"":c}))}},function(t,e,n){"use strict";var i=n(8),r=n(9),s=n(4),o=n(31),a=n(46),d=TypeError;t.exports=function(t,e){var n=t.exec;if(s(n)){var c=i(n,t,e);return null!==c&&r(c),c}if("RegExp"===o(t))return i(a,t,e);throw new d("RegExp#exec called on incompatible receiver")}},function(t,e,n){"use strict";var i=n(23),r=n(8);i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},function(t,e,n){"use strict";var i=n(23),r=n(128).trim;i({target:"String",proto:!0,forced:n(129)("trim")},{trim:function(){return r(this)}})},function(t,e,n){"use strict";t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){"use strict";var i=n(3),r=n(6),s=n(7),o=n(21),a=r("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),i="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),i+=n+t})),n.delete("a",2),n.delete("b",void 0),o&&(!t.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!e.size&&(o||!s)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";var i=n(73),r=n(11);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},function(t,e,n){"use strict";var i=n(67),r=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new r("Incorrect invocation")}},function(t,e,n){"use strict";var i=n(8),r=n(36),s=n(9),o=n(68),a=n(78),d=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(r(n))return s(i(n,t));throw new d(o(t)+" is not iterable")}},function(t,e,n){"use strict";var i=n(2);t.exports=i([].slice)},function(t,e,n){"use strict";var i=TypeError;t.exports=function(t,e){if(t<e)throw new i("Not enough arguments");return t}},function(t,e,n){"use strict";n(65);var i=n(23),r=n(5),s=n(141),o=n(8),a=n(2),d=n(7),c=n(116),l=n(14),u=n(117),h=n(142),f=n(28),p=n(76),m=n(18),v=n(118),g=n(4),w=n(10),y=n(77),b=n(47),_=n(9),I=n(13),S=n(15),A=n(22),O=n(27),E=n(119),k=n(78),T=n(51),M=n(121),R=n(6),P=n(143),x=R("iterator"),D=m.set,C=m.getterFor("URLSearchParams"),L=m.getterFor("URLSearchParamsIterator"),Y=s("fetch"),U=s("Request"),j=s("Headers"),F=U&&U.prototype,N=j&&j.prototype,H=r.RegExp,V=r.TypeError,B=r.decodeURIComponent,q=r.encodeURIComponent,J=a("".charAt),z=a([].join),W=a([].push),K=a("".replace),$=a([].shift),G=a([].splice),Q=a("".split),X=a("".slice),Z=/\+/g,tt=Array(4),et=function(t){return tt[t-1]||(tt[t-1]=H("((?:%[\\da-f]{2}){"+t+"})","gi"))},nt=function(t){try{return B(t)}catch(e){return t}},it=function(t){var e=K(t,Z," "),n=4;try{return B(e)}catch(t){for(;n;)e=K(e,et(n--),nt);return e}},rt=/[!'()~]|%20/g,st={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ot=function(t){return st[t]},at=function(t){return K(q(t),rt,ot)},dt=p((function(t,e){D(this,{type:"URLSearchParamsIterator",target:C(t).entries,index:0,kind:e})}),"URLSearchParams",(function(){var t=L(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=void 0,T(void 0,!0);var i=e[n];switch(t.kind){case"keys":return T(i.key,!1);case"values":return T(i.value,!1)}return T([i.key,i.value],!1)}),!0),ct=function(t){this.entries=[],this.url=null,void 0!==t&&(I(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===J(t,0)?X(t,1):t:S(t)))};ct.prototype={type:"URLSearchParams",bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,i,r,s,a,d,c=this.entries,l=k(t);if(l)for(n=(e=E(t,l)).next;!(i=o(n,e)).done;){if(s=(r=E(_(i.value))).next,(a=o(s,r)).done||(d=o(s,r)).done||!o(s,r).done)throw new V("Expected sequence with length 2");W(c,{key:S(a.value),value:S(d.value)})}else for(var u in t)w(t,u)&&W(c,{key:u,value:S(t[u])})},parseQuery:function(t){if(t)for(var e,n,i=this.entries,r=Q(t,"&"),s=0;s<r.length;)(e=r[s++]).length&&(n=Q(e,"="),W(i,{key:it($(n)),value:it(z(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],i=0;i<e.length;)t=e[i++],W(n,at(t.key)+"="+at(t.value));return z(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var lt=function(){v(this,ut);var t=arguments.length>0?arguments[0]:void 0,e=D(this,new ct(t));d||(this.size=e.entries.length)},ut=lt.prototype;if(h(ut,{append:function(t,e){var n=C(this);M(arguments.length,2),W(n.entries,{key:S(t),value:S(e)}),d||this.length++,n.updateURL()},delete:function(t){for(var e=C(this),n=M(arguments.length,1),i=e.entries,r=S(t),s=n<2?void 0:arguments[1],o=void 0===s?s:S(s),a=0;a<i.length;){var c=i[a];if(c.key!==r||void 0!==o&&c.value!==o)a++;else if(G(i,a,1),void 0!==o)break}d||(this.size=i.length),e.updateURL()},get:function(t){var e=C(this).entries;M(arguments.length,1);for(var n=S(t),i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){var e=C(this).entries;M(arguments.length,1);for(var n=S(t),i=[],r=0;r<e.length;r++)e[r].key===n&&W(i,e[r].value);return i},has:function(t){for(var e=C(this).entries,n=M(arguments.length,1),i=S(t),r=n<2?void 0:arguments[1],s=void 0===r?r:S(r),o=0;o<e.length;){var a=e[o++];if(a.key===i&&(void 0===s||a.value===s))return!0}return!1},set:function(t,e){var n=C(this);M(arguments.length,1);for(var i,r=n.entries,s=!1,o=S(t),a=S(e),c=0;c<r.length;c++)(i=r[c]).key===o&&(s?G(r,c--,1):(s=!0,i.value=a));s||W(r,{key:o,value:a}),d||(this.size=r.length),n.updateURL()},sort:function(){var t=C(this);P(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=C(this).entries,i=y(t,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new dt(this,"keys")},values:function(){return new dt(this,"values")},entries:function(){return new dt(this,"entries")}},{enumerable:!0}),l(ut,x,ut.entries,{name:"entries"}),l(ut,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),d&&u(ut,"size",{get:function(){return C(this).entries.length},configurable:!0,enumerable:!0}),f(lt,"URLSearchParams"),i({global:!0,constructor:!0,forced:!c},{URLSearchParams:lt}),!c&&g(j)){var ht=a(N.has),ft=a(N.set),pt=function(t){if(I(t)){var e,n=t.body;if("URLSearchParams"===b(n))return e=t.headers?new j(t.headers):new j,ht(e,"content-type")||ft(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),A(t,{body:O(0,S(n)),headers:O(0,e)})}return t};if(g(Y)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return Y(t,arguments.length>1?pt(arguments[1]):{})}}),g(U)){var mt=function(t){return v(this,F),new U(t,arguments.length>1?pt(arguments[1]):{})};F.constructor=mt,mt.prototype=F,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:mt})}}t.exports={URLSearchParams:lt,getState:C}},function(t,e,n){"use strict";n(50)("flat")},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(34);function r(){const t=function(){var t,e;const n=null===(t=null===window||void 0===window?void 0:window.screen)||void 0===t?void 0:t.height,i=null===(e=null===window||void 0===window?void 0:window.screen)||void 0===e?void 0:e.width,r=null===window||void 0===window?void 0:window.devicePixelRatio;if(n&&i&&r)return{h:n,w:i,r:r}}();var e;t&&(e=t,new i.a({project:"ms_sp_client",dataset:"yads_info",samplingRate:1e-5}).send(e))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return xt}));class i{constructor(t){this.finder=t}find(t,e){const n=e.getElementById(t);return n?this.finder.find(n):[]}}class r{find(t){const e=[];return t.querySelectorAll("*[data-rma-viewable]").forEach(t=>e.push(t)),e}}class s{find(t){const e=t.querySelectorAll("*[data-ydntxt-item]");return Array.from(e)}}class o{find(t){const e=[];return t.querySelectorAll(".yads_stream [data-ydntxt-item]").forEach(t=>e.push(t)),e}}var a,d;!function(t){t[t.DONE=0]="DONE",t[t.AGAIN=1]="AGAIN",t[t.FAIL=2]="FAIL"}(a||(a={}));class c{constructor(){this.intervalMillisec=100,this.defaultMaxExecutions=1800,this.commandQueue=[]}push(t,e){if(t.execute()===a.AGAIN){const n=(null==e?void 0:e.maxExecutions)||this.defaultMaxExecutions;this.commandQueue.push({command:t,maxExecutions:n,executionCount:1}),this.timerId||(this.timerId=setInterval(()=>{this.onInterval()},this.intervalMillisec))}}onInterval(){this.commandQueue=this.commandQueue.filter(t=>t.executionCount!=t.maxExecutions&&((()=>{try{return t.command.execute()}catch(t){return a.FAIL}})()===a.AGAIN&&(t.executionCount++,!0))),0===this.commandQueue.length&&this.timerId&&(clearInterval(this.timerId),this.timerId=void 0)}}function l(t,e){const n=[],i=Math.min(t.length,e.length);return t.forEach((t,r)=>{r<i&&n.push([t,e[r]])}),n}n(1);class u{constructor(t,e,n,i){this.commandQueue=t,this.adElementFinder=e,this.targetFactory=n,this.monitor=i}notifyRendered(t){this.commandQueue.push(new h(this.adElementFinder,this.targetFactory,this.monitor,t))}}class h{constructor(t,e,n,i){this.adElementFinder=t,this.targetFactory=e,this.monitor=n,this.hint=i}execute(){var t;const e=null===(t=this.hint.docWriteCaller)||void 0===t?void 0:t.parentElement;if(!e)return a.FAIL;if(!this.hint.viewableInfo||0===this.hint.viewableInfo.length)return a.FAIL;const n=this.adElementFinder.find(e);if(0===n.length)return a.AGAIN;const i=l(n,this.hint.viewableInfo);return i.forEach((t,e)=>{let[n,i]=t;const r=(()=>{var t;return this.hint.viewableTrackingUrlList&&null!==(t=this.hint.viewableTrackingUrlList[e])&&void 0!==t?t:[]})(),s=this.targetFactory.createVimpsTarget(n,i,this.hint.viewableUrl,this.hint.isAudit,this.hint.adProdSetCode,{viewableTrackingUrlList:r,sspKPIInfo:this.hint.sspKPIInfo,rankFrom1:e+1});this.monitor.register(n,[s])}),i.length===this.hint.viewableInfo.length?a.DONE:a.AGAIN}}function f(t,e){if(!t||!e)return null;const n=t.document.querySelectorAll("iframe");for(const i of n)try{if(i.contentWindow===e)return i;const t=f(i.contentWindow,e);if(t)return t}catch(t){}return null}function p(t){return 0!==t}!function(t){t[t.NonMeasurable=0]="NonMeasurable",t[t.Measurable=1]="Measurable"}(d||(d={}));class m{constructor(t,e,n,i,r,s){this.mimpsBeaconSender=t,this.singleWithParent=e,this.docWrite=n,this.stream=i,this.timeline=r,this.richad=s}notifyRendered(t){var e,n;if(p(t.vimpsMode))switch(this.mimpsBeaconSender.sendMeasurableBeacon(t.measurableUrl,null!==(n=t.viewableInfo)&&void 0!==n?n:[],d.Measurable,t.adProdSetCode),t.type){case"single_with_parent":this.singleWithParent.notifyRendered(t);break;case"doc_write":this.docWrite.notifyRendered(t);break;case"stream":this.stream.notifyRendered(t);break;case"timeline":this.timeline.notifyRendered(t);break;case"richad":this.richad.notifyRendered(t)}else this.mimpsBeaconSender.sendMeasurableBeacon(t.measurableUrl,null!==(e=t.viewableInfo)&&void 0!==e?e:[],d.NonMeasurable,t.adProdSetCode)}}const v=["timer","intersection","updateRect","viewin","viewout","viewcontinue","viewable"],g=["outline","centerpoint","id","timer","target"];class w{constructor(t){this.wrapped=t,this.limit=20,this.events=[]}notifyRendered(t){this.events.push(Object.assign({time:(new Date).getTime()},t)),this.events.length>this.limit&&this.events.shift(),this.wrapped.notifyRendered(t)}getHistory(){return this.events}}class y{constructor(t){this.limit=20,this.wrapped=t,this.events=[]}notifyStreamAttached(t,e,n){const i={dsCode:t,parentId:e,startIndex:n,done:!1};this.events.push(Object.assign({time:(new Date).getTime()},i)),this.events.length>this.limit&&this.events.shift(),this.wrapped.notifyStreamAttached(t,e,n)}getHistory(){return this.events}}class b{constructor(t){this.limit=20,this.wrapped=t,this.events=[]}notifyTimelineAttached(t,e,n,i,r){const s={uniqId:t,rank:i,adElem:r,done:!1};this.events.push(Object.assign({time:(new Date).getTime()},s)),this.events.length>this.limit&&this.events.shift(),this.wrapped.notifyTimelineAttached(t,e,n,i,r)}getHistory(){return this.events}}n(24);class _{constructor(t,e,n,i){this.commandQueue=t,this.adElementFinderById=e,this.targetFactory=n,this.monitor=i}notifyRendered(t){t.parentIdList.forEach(e=>{this.commandQueue.push(new I(this.adElementFinderById,this.targetFactory,this.monitor,e,t))})}}class I{constructor(t,e,n,i,r){this.adElementFinderById=t,this.targetFactory=e,this.monitor=n,this.parentId=i,this.hint=r}execute(){if(!this.hint.viewableInfo||0===this.hint.viewableInfo.length)return a.FAIL;const t=this.adElementFinderById.find(this.parentId,document);if(0===t.length)return a.AGAIN;const e=l(t,this.hint.viewableInfo);return e.forEach((t,e)=>{let[n,i]=t;const r=this.hint.adProdSetCode,s=(()=>{var t;return this.hint.viewableTrackingUrlList&&null!==(t=this.hint.viewableTrackingUrlList[e])&&void 0!==t?t:[]})(),o=this.targetFactory.createVimpsTarget(n,i,this.hint.viewableUrl,this.hint.isAudit,r,{viewableTrackingUrlList:s,makeVimpsAdditionalParams:()=>{const t=new URLSearchParams,e=n.getAttribute("data-rma-mainshrink");e&&t.append("mainshrink",e);const i=n.getAttribute("data-rma-sidehide");return i&&t.append("sidehide",i),t},sspKPIInfo:this.hint.sspKPIInfo,rankFrom1:e+1});this.monitor.register(n,[o])}),e.length===this.hint.viewableInfo.length?a.DONE:a.AGAIN}}class S{constructor(t,e,n,i){this.commandQueue=t,this.adElementFinderById=e,this.targetFactory=n,this.monitor=i}notifyRendered(t){this.commandQueue.push(new A(this.adElementFinderById,this.targetFactory,this.monitor,t))}}class A{constructor(t,e,n,i){this.adElementFinderById=t,this.targetFactory=e,this.monitor=n,this.hint=i}execute(){if(!this.hint.viewableInfo||0===this.hint.viewableInfo.length)return a.FAIL;const t=this.findAds();if(0===t.length)return a.AGAIN;const e=l(t,this.hint.viewableInfo);return e.forEach((t,e)=>{let[n,i]=t;const r=(()=>{var t;return this.hint.viewableTrackingUrlList&&null!==(t=this.hint.viewableTrackingUrlList[e])&&void 0!==t?t:[]})(),s=this.targetFactory.createVimpsTarget(n,i,this.hint.viewableUrl,this.hint.isAudit,this.hint.adProdSetCode,{viewableTrackingUrlList:r,sspKPIInfo:this.hint.sspKPIInfo,rankFrom1:e+1});this.monitor.register(n,[s])}),e.length===this.hint.viewableInfo.length?a.DONE:a.AGAIN}findAds(){return this.adElementFinderById.find(this.hint.parentId,document)}}function O(t){return t.split("-")[0]}class E{constructor(t,e,n,i){this.document=t,this.adElementFinder=e,this.targetFactory=n,this.monitor=i,this.streamViewableInfoStore=new Map,this.streamAttachedStore=new Map}notifyRendered(t){var e;const n=O(t.adProdSetCode),i=[];t.viewableInfo&&(t.viewableInfo.forEach((e,n)=>{i.push({adprodsetCode:t.adProdSetCode,requestId:t.requestId,viewableInfo:e,viewableUrl:t.viewableUrl,viewableTrackingUrlList:(()=>{var e;return t.viewableTrackingUrlList&&null!==(e=t.viewableTrackingUrlList[n])&&void 0!==e?e:[]})(),isAudit:t.isAudit,sspKPIInfo:t.sspKPIInfo})}),this.streamViewableInfoStore.has(n)?null===(e=this.streamViewableInfoStore.get(n))||void 0===e||e.push(...i):this.streamViewableInfoStore.set(n,i),this.integrate(n))}notifyStreamAttached(t,e){var n;const i={dsCode:t,parentId:e,startIndex:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,done:!1};this.streamAttachedStore.has(t)?null===(n=this.streamAttachedStore.get(t))||void 0===n||n.push(i):this.streamAttachedStore.set(t,[i]),this.integrate(t)}integrate(t){const e=this.streamAttachedStore.get(t);if(!e)return;const n=this.streamViewableInfoStore.get(t);if(!n)return;e.forEach(t=>{const e=this.document.getElementById(t.parentId);if(!e)return;const i=this.adElementFinder.find(e).slice(t.startIndex);if(0===i.length)return;const r=l(i,n);this.register(r);const s=r.length;t.done=s===i.length});const i=e.filter(t=>!t.done);this.streamAttachedStore.set(t,i)}register(t){t.forEach((t,e)=>{let[n,i]=t;const r=this.targetFactory.createVimpsTarget(n,i.viewableInfo,i.viewableUrl,i.isAudit,i.adprodsetCode,{viewableTrackingUrlList:i.viewableTrackingUrlList,sspKPIInfo:i.sspKPIInfo,rankFrom1:e+1});this.monitor.register(n,[r])})}}class k{constructor(t,e){this.targetFactory=t,this.monitor=e,this.timelineViewableInfoStore=new Map,this.timelineAttachedStore=new Map}notifyRendered(t){var e;const n=t.uniqueId,i=[];Array.from({length:t.adNum}).forEach((e,n)=>{const r=(()=>{var e;return t.viewableInfo&&null!==(e=t.viewableInfo[n])&&void 0!==e?e:""})(),s=(()=>{var e;return t.viewableTrackingUrlList&&null!==(e=t.viewableTrackingUrlList[n])&&void 0!==e?e:[]})();i.push({adprodsetCode:t.adProdSetCode,requestId:t.requestId,viewableInfo:r,viewableUrl:t.viewableUrl,viewableTrackingUrlList:s,isAudit:t.isAudit,sspKPIInfo:t.sspKPIInfo})}),this.timelineViewableInfoStore.has(n)?null===(e=this.timelineViewableInfoStore.get(n))||void 0===e||e.push(...i):this.timelineViewableInfoStore.set(n,i),this.integrate(n)}notifyTimelineAttached(t,e,n,i,r){var s;const o={uniqId:t,rank:i,adElem:r,done:!1};this.timelineAttachedStore.has(t)?null===(s=this.timelineAttachedStore.get(t))||void 0===s||s.push(o):this.timelineAttachedStore.set(t,[o]),this.integrate(t)}integrate(t){const e=this.timelineAttachedStore.get(t);if(!e)return;const n=this.timelineViewableInfoStore.get(t);if(!n)return;e.forEach(t=>{const e=n[t.rank-1];e&&(this.register(t,e),t.done=!0)});const i=e.filter(t=>!t.done);this.timelineAttachedStore.set(t,i)}register(t,e){const n=t.adElem,i=this.targetFactory.createVimpsTarget(n,e.viewableInfo,e.viewableUrl,e.isAudit,e.adprodsetCode,{viewableTrackingUrlList:e.viewableTrackingUrlList,sspKPIInfo:e.sspKPIInfo,rankFrom1:t.rank});this.monitor.register(n,[i])}}class T{constructor(t){this.base=t,this.commandQueue=new c,this.streamHandler=this.buildStreamHandler(t),this.timelineHandler=this.buildTimelineHandler(t)}buildStreamAttachedHandler(){return new y(this.streamHandler)}buildTimelineAttachedHandler(){return new b(this.timelineHandler)}buildRenderedEventHandler(){const t=new s;return new w(new m(this.base.mimpsSender,new S(this.commandQueue,new i(t),this.base.vimpsTargetFactory,this.base.monitor),new u(this.commandQueue,t,this.base.vimpsTargetFactory,this.base.monitor),this.streamHandler,this.timelineHandler,new _(this.commandQueue,new i(new r),this.base.vimpsTargetFactory,this.base.monitor)))}buildStreamHandler(t){return new E(document,new o,t.vimpsTargetFactory,t.monitor)}buildTimelineHandler(t){return new k(t.vimpsTargetFactory,t.monitor)}}var M,R=n(16),P=n(12);class x{constructor(t){this.requestInit=t}async sendBeacon(t){try{fetch(t,this.requestInit).catch(()=>{document.createElement("img").src=t})}catch(e){document.createElement("img").src=t}}}class D{constructor(){}async sendBeacon(t){fetch(t,{mode:"no-cors",priority:"low"}).catch(e=>{document.createElement("img").src=t,(new P.a).error(new R.a(e))})}}class C{constructor(){const t={priority:"low"};window.isSecureContext&&(t.browsingTopics=!0),this.sender=new x(t)}async sendBeacon(t){await this.sender.sendBeacon(t)}}class L{constructor(){const t={priority:"low"};window.isSecureContext&&(t.credentials="include",t.browsingTopics=!0,t.attributionReporting={eventSourceEligible:!0,triggerEligible:!1}),this.sender=new x(t)}async sendBeacon(t){await this.sender.sendBeacon(t)}}class Y{constructor(){this.sender=new x({priority:"low"})}async sendBeacon(t){await this.sender.sendBeacon(t)}}function U(){return Math.floor(1e9*Math.random()).toString(32)}n(38);class j{constructor(t,e,n){this.beaconNum=0,this.sender=t,this.pvId=e,this.timeSrc=n,this.startTime=n.getTime()}sendMeasurableBeacon(t,e,n,i){if(!t||0===e.length)return;const r=[e[0]];e.slice(1).forEach(t=>{const e=r[r.length-1];(null==e?void 0:e.length)+t.length>8e3?r.push(t):r[r.length-1]+="&"+t}),r.forEach(e=>{e.length>0&&this.send(t,e,n)})}send(t,e,n){const i=new URLSearchParams;i.append("rs","yads_vb"),i.append("bt","5"),i.append("pv",this.pvId),i.append("rand",U()),i.append("seq",(++this.beaconNum).toString()),i.append("et",(this.timeSrc.getTime()-this.startTime).toString()),i.append("vi",e),i.append("measurable",n===d.Measurable?"1":"0");const r=new URL(t);r.search=i.toString()+"&EOQ",this.sender.sendBeacon(r.toString())}}class F{constructor(t,e){this.sender=t,this.resendProtector=e}sendMeasurableBeacon(t,e,n,i){const r=e.filter(t=>!this.resendProtector.isSentViewableInfo(t,"measurable"));0!==r.length&&(this.resendProtector.clear(i),this.sender.sendMeasurableBeacon(t,r,n,i),r.forEach(t=>this.resendProtector.recordSending(i,t,"measurable")))}}!function(t){t[t.NONE=0]="NONE",t[t.MEASURABLE_SENT_BIT=1]="MEASURABLE_SENT_BIT",t[t.VIEWABLE_SENT_BIT=2]="VIEWABLE_SENT_BIT",t[t.VIEWINTIME_SENT_BIT=4]="VIEWINTIME_SENT_BIT"}(M||(M={}));class N{constructor(t){this.store=JSON.parse(t)}static loadFromStorage(t){try{const e=t.getItem("yads_vimps")||"{}";return new N(e)}catch(t){return new N("{}")}}flush(t){try{t.setItem("yads_vimps",JSON.stringify(this.store))}catch(t){return}}isSentViewableInfo(t,e){const n=this.shorten(t);for(const t of Object.values(this.store))if(Object.prototype.hasOwnProperty.call(t,n))switch(e){case"measurable":return 0!=(t[n]&M.MEASURABLE_SENT_BIT);case"viewable":return 0!=(t[n]&M.VIEWABLE_SENT_BIT);case"viewintime":return 0!=(t[n]&M.VIEWINTIME_SENT_BIT)}return!1}recordSending(t,e,n){this.store[t]||(this.store[t]={});const i=this.shorten(e);switch(n){case"measurable":this.store[t][i]|=M.MEASURABLE_SENT_BIT;break;case"viewable":this.store[t][i]|=M.VIEWABLE_SENT_BIT;break;case"viewintime":this.store[t][i]|=M.VIEWINTIME_SENT_BIT}}clear(t){this.store[t]={}}shorten(t){return t.slice(0,64)}}class H{getItem(t){return"{}"}setItem(t,e){}}class V{constructor(t){this.storage=t}recordSending(t,e,n){const i=N.loadFromStorage(this.storage);i.recordSending(t,e,n),i.flush(this.storage)}isSentViewableInfo(t,e){return N.loadFromStorage(this.storage).isSentViewableInfo(t,e)}clear(t){const e=N.loadFromStorage(this.storage);e.clear(t),e.flush(this.storage)}}class B{constructor(t,e,n){this.beaconNum=0,this.sender=t,this.pvId=e,this.timeSrc=n,this.startTime=n.getTime()}sendViewableBeacon(t,e,n,i,r){if(!t)return;const s=new URLSearchParams;s.append("rs","yads_vb"),s.append("bt","2"),s.append("pv",this.pvId),s.append("rand",U()),s.append("seq",(++this.beaconNum).toString()),s.append("et",(this.timeSrc.getTime()-this.startTime).toString()),null==r||r.forEach((t,e)=>{s.append(e,t)}),s.append("audit",n.toString()),s.append("vi",e);const o=new URL(t);o.search=s.toString(),o.search+="&EOQ",this.sender.sendBeacon(o.toString())}}class q{constructor(t,e){this.sender=t,this.resendProtector=e}sendViewableBeacon(t,e,n,i,r){this.resendProtector.isSentViewableInfo(e,"viewable")||(this.sender.sendViewableBeacon(t,e,n,i,r),this.resendProtector.recordSending(i,e,"viewable"))}}class J{constructor(t){this.sender=t}sendViewInTimeBeacon(t,e,n){if(!n.url)return;const i=new URLSearchParams;i.append("tk",n.tk),i.append("p",n.p),i.append("d",n.d),i.append("ds_code",n.ds_code),i.append("request_id",n.request_id),i.append("bid_request_id",n.bid_request_id),i.append("bid_response_id",n.bid_response_id),i.append("rank",n.rankFrom1.toString()),i.append("viewinms",Math.floor(n.viewInTimeMS).toFixed(0));const r=new URL(n.url);r.search=i.toString(),this.sender.sendBeacon(r.toString())}}class z{constructor(t,e){this.sender=t,this.resendProtector=e}sendViewInTimeBeacon(t,e,n){this.resendProtector.isSentViewableInfo(t,"viewintime")||(this.sender.sendViewInTimeBeacon(t,e,n),this.resendProtector.recordSending(e,t,"viewintime"))}}n(123),n(144);class W{constructor(t){this.registry=void 0,"undefined"!=typeof FinalizationRegistry&&(this.registry=new FinalizationRegistry(t))}register(){var t;return null===(t=this.registry)||void 0===t?void 0:t.register(...arguments)}unregister(){var t;return null===(t=this.registry)||void 0===t?void 0:t.unregister(...arguments)}}class K{constructor(t){this.reforObject=void 0,"undefined"!=typeof WeakRef?this.reforObject=new WeakRef(t):this.reforObject=t}deref(){return"undefined"!=typeof WeakRef&&this.reforObject instanceof WeakRef?this.reforObject.deref():this.reforObject}}class ${constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=Array.from(t).map(t=>{let[e,n]=t;return{key:e,value:n,weakRef:new K(e)}});this.refToWeakObjectMap=new Map(e.map(t=>[t.weakRef,t.value])),this.weakKeyToRefMap=new WeakMap(e.map(t=>[t.key,t.weakRef])),this.finalizer=new W(t=>{this.refToWeakObjectMap.has(t)&&this.refToWeakObjectMap.delete(t)});for(const t of e.values())this.finalizer.register(t.key,t.weakRef)}get(t){const e=this.weakKeyToRefMap.get(t);if(void 0!==e)return this.refToWeakObjectMap.get(e)}has(t){return this.weakKeyToRefMap.has(t)}set(t,e){const n=new K(t);this.refToWeakObjectMap.set(n,e),this.weakKeyToRefMap.set(t,n),this.finalizer.register(t,n)}delete(t){const e=this.weakKeyToRefMap.get(t);e&&(this.refToWeakObjectMap.delete(e),this.weakKeyToRefMap.delete(t),this.finalizer.unregister(t))}keys(){return Array.from(this.refToWeakObjectMap.keys()).filter(t=>void 0!==t.deref())}values(){return Array.from(this.refToWeakObjectMap.entries()).filter(t=>{let[e,n]=t;return void 0!==e.deref()}).map(t=>{let[,e]=t;return e})}entries(){return Array.from(this.refToWeakObjectMap.entries()).filter(t=>{let[e]=t;return void 0!==e.deref()})}}class G{constructor(t,e){this.lowResIntersectionObserver=t,this.highResIntersectionObserver=e,t.addCallback((t,e)=>this.onInterSectionEvents(t,e)),e.addCallback((t,e)=>this.onInterSectionEvents(t,e)),this.targets=new $}register(t,e){if(0===e.length)return;const n=this.mergeWithCurrentTargets(t,e);this.targets.set(t,n),this.observeByIntersectionObserver(t)}mergeWithCurrentTargets(t,e){const n=this.targets.get(t)||[],i=e.filter(t=>!(null==n?void 0:n.some(e=>t.equals(e))));return[...n,...i]}observeByIntersectionObserver(t){this.lowResIntersectionObserver.unobserve(t),this.highResIntersectionObserver.unobserve(t);const e=this.targets.get(t);e&&(e.some(t=>t.hasSubRect())?this.highResIntersectionObserver.observe(t):this.lowResIntersectionObserver.observe(t))}updateRect(t,e,n,i){var r;if(0===n.length)return;const s=null===(r=this.targets.get(t))||void 0===r?void 0:r.filter(t=>e(t));(null==s?void 0:s.length)===n.length&&(null==s||s.forEach((t,e)=>t.updateRect(n[e],i)),this.observeByIntersectionObserver(t))}onInterSectionEvents(t,e){t.forEach(t=>{const n=this.targets.get(t.target);null==n||n.forEach(n=>n.onInterSectionEvent(t,e))})}onResize(t){t.forEach(t=>{const e=t.target;this.observeByIntersectionObserver(e)})}onTimer(t){for(const e of this.targets.values())for(const n of e)n.onTimer(t)}changeDebugMode(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const e of this.targets.values())for(const i of n.values())for(const n of e)n.changeDebugMode(t,i)}dump(t){return Array.from(this.targets.entries()).flatMap(t=>{let[e,n]=t;return n.map(t=>[e,t])}).filter(e=>{let[,n]=e;return!t||n.getId()===t}).map(t=>{let[e,n]=t;const i=v.map(t=>n.getHistory(t)).flat().sort((t,e)=>t.time-e.time);return{elementRef:e,target:n,history:i}}).reduce((t,e)=>{const n=e.target.getId();return t[n]||(t[n]=[]),t[n].push(e),t},{})}}class Q{isOccluded(t,e){if(t.getAttribute("data-ydnnoad"))return{hitElem:null,isOccluded:!1,reason:["skipped"]};const n=[];for(const i of X(t,e)){const e=this.isOccludedAt(t,i.x,i.y);if(!e.isOccluded)return e;n.push(e)}return{isOccluded:!0,reason:n[0].reason,hitElem:n[0].hitElem}}isOccludedAt(t,e,n){const i=t.ownerDocument.defaultView,r=this.isOccludedAtLocalViewport(i,t,e,n);if(r.isOccluded)return r;const s=this.isOccludedAtAncestorViewports(i,e,n);return s.isOccluded?s:{hitElem:null,isOccluded:!1,reason:[...r.reason,...s.reason]}}isOccludedAtLocalViewport(t,e,n,i){const r=this.getElementFromPointThroughShadowDOM(t.document,n,i);return r?r===e?{isOccluded:!1,reason:["HitAd"],hitElem:r}:this.isDescendantOf(r,e)?{isOccluded:!1,reason:["HitAdComponent"],hitElem:r}:"inline"===t.getComputedStyle(e).getPropertyValue("display")&&this.isDescendantOf(e,r,3)?{isOccluded:!1,reason:["HitAdContainer"],hitElem:r}:{isOccluded:!0,reason:["HitOccluderAtLocalViewport"],hitElem:r}:{hitElem:null,isOccluded:!1,reason:["unknown"]}}isDescendantOf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=t.parentNode;return null!==r&&(r===e||!(0<=n&&i>=n)&&this.isDescendantOf(r,e,n,i+1))}isOccludedAtAncestorViewports(t,e,n){if(t===t.parent)return{hitElem:null,isOccluded:!1,reason:[]};for(;t!==t.parent;){const i=t.frameElement;if(!i)return{hitElem:null,isOccluded:!1,reason:["UnknownByCrossOrigin"]};const r=this.isOccludedAtParentViewport(t.parent,i,e,n);if(r.isOccluded)return r;t=t.parent}return{hitElem:null,isOccluded:!1,reason:["NoOccluder"]}}getElementFromPointThroughShadowDOM(t,e,n){let i=0,r=t.elementFromPoint(e,n);for(;null!==r&&null!==r.shadowRoot&&i<5;)r=r.shadowRoot.elementFromPoint(e,n),i++;return r}isOccludedAtParentViewport(t,e,n,i){const r=e.getBoundingClientRect(),s=this.getElementFromPointThroughShadowDOM(t.document,r.x+n,r.y+i);return e!==s?{isOccluded:!0,reason:["HitOccluderAtParentViewport"],hitElem:s}:{isOccluded:!1,reason:["HitFrameElement"],hitElem:s}}}function X(t,e){const n=Z(t,e);return n.height%2==0?n.width%2==0?[new DOMPointReadOnly(n.left+n.width/2-1,n.top+n.height/2-1),new DOMPointReadOnly(n.left+n.width/2,n.top+n.height/2)]:[new DOMPointReadOnly(n.left+Math.floor(n.width/2),n.top+n.height/2-1),new DOMPointReadOnly(n.left+Math.floor(n.width/2),n.top+n.height/2)]:n.width%2==0?[new DOMPointReadOnly(n.left+n.width/2-1,n.top+Math.floor(n.height/2)),new DOMPointReadOnly(n.left+n.width/2,n.top+Math.floor(n.height/2))]:[new DOMPointReadOnly(n.left+Math.floor(n.width/2),n.top+Math.floor(n.height/2))]}function Z(t,e){const n=t.getBoundingClientRect();if(!e)return n;const i=(()=>{if(e.x+e.width<=n.width)return e.width;{const t=n.width-e.x;return t>0?t:0}})(),r=(()=>{if(e.y+e.height<=n.height)return e.height;{const t=n.height-e.y;return t>0?t:0}})();return new DOMRectReadOnly(n.x+e.x,n.y+e.y,i,r)}class tt{constructor(t,e,n,i,r,s){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this.viewableInfo=t,this.adprodsetCode=e,this.sspKPIInfo=n,this.rankFrom1=i,this.viewInTimeBeaconSender=r,this.timeSrc=s,this.debug=o,this.totalViewInTimeMS=0,this.lastViewInTimeMS=-1}initEventListener(t){t.addEventListener("viewin",this),t.addEventListener("viewout",this),document.addEventListener("visibilitychange",t=>{this.handleVisibilityChange(t)})}handleEvent(t){"viewin"==t.type?this.handleViewIn():"viewout"==t.type&&this.handleViewOut()}handleViewIn(){this.updateStateOnViewIn()}handleViewOut(){this.updateStateOnViewOut()}handleVisibilityChange(t){this.writeDebug("document.visibilityState=".concat(document.visibilityState)),"hidden"===document.visibilityState&&(this.updateStateOnViewOut(),this.viewInTimeBeaconSender.sendViewInTimeBeacon(this.viewableInfo,this.adprodsetCode,Object.assign(Object.assign({},this.sspKPIInfo),{rankFrom1:this.rankFrom1,viewInTimeMS:this.totalViewInTimeMS})))}updateStateOnViewIn(){const t=this.timeSrc.getTime();this.writeDebug("updateStateOnViewIn: nowMS=".concat(t)),this.lastViewInTimeMS=t,this.writeDebug("after")}updateStateOnViewOut(){const t=this.timeSrc.getTime();if(this.writeDebug("updateStateOnViewOut: now=".concat(t)),this.lastViewInTimeMS>=0){const e=t-this.lastViewInTimeMS;e>0&&(this.totalViewInTimeMS+=e),this.lastViewInTimeMS=-1,this.writeDebug("deltaMS=".concat(e))}else this.writeDebug("after")}writeDebug(t){this.debug&&console.debug(t+": "+this.getDebugString())}getDebugString(){return"lastViewInTimeMS=".concat(this.lastViewInTimeMS,", totalViewInTimeMS=").concat(this.totalViewInTimeMS)}}class et{constructor(t,e){this.viewInTimeBeaconSender=t,this.timeSrc=e}setupViewInTimeHandler(t,e,n,i){var r;(null==i?void 0:i.sspKPIInfo)&&new tt(e,n,null==i?void 0:i.sspKPIInfo,null!==(r=null==i?void 0:i.rankFrom1)&&void 0!==r?r:1,this.viewInTimeBeaconSender,this.timeSrc).initEventListener(t)}}class nt{constructor(t,e,n,i,r){this.elementRef=e,this.settings=i,this.subRect=r,this.debugOutlineElements=function(t,e){const n=ct(t);n.dataset.uadf="outline",n.style.position="fixed",n.style.zIndex=dt.toString(),n.style.outlineWidth=e/2+"px";const i=n.cloneNode(),r=n.cloneNode(),s=n.cloneNode();return[n,i,r,s]}(n,i.thickness),t.addEventListener("viewable",()=>this.viewableFired=!0),t.addEventListener("viewin",()=>this.viewIn=!0),t.addEventListener("viewout",()=>this.viewIn=!1),this.enabled=this.viewableFired=this.viewIn=!1}enable(){this.enabled=!0,this.debugOutlineElements.forEach(t=>{document.body.contains(t)||document.body.appendChild(t)});const t=()=>{const e=this.elementRef.deref();if(!this.enabled||!e)return;const n=void 0===this.subRect,i=this.settings.forMovie&&n,r=Z(e,this.subRect);if(0===r.width||0===r.height||i)return void[0,1,2,3].forEach(t=>{this.debugOutlineElements[t].style.display="none"});const s=this.settings.offset||0;Object.values({debug_outline_top:{top:r.top-s,left:r.left,width:r.width,height:0},debug_outline_right:{top:r.top,left:r.right+s,width:0,height:r.height},debug_outline_bottom:{top:r.bottom+s,left:r.left,width:r.width,height:0},debug_outline_left:{top:r.top,left:r.left-s,width:0,height:r.height}}).forEach((t,e)=>{let{top:i,left:r,width:s,height:o}=t;const a=this.debugOutlineElements[e];a.style.top=i+"px",a.style.left=r+"px",a.style.width=s+"px",a.style.height=o+"px",a.style.display="block";const d=it(this.viewableFired,this.viewIn,this.settings);this.settings.forMovie?n||(a.style.outlineStyle="dotted",a.style.outlineColor=d):(a.style.outlineStyle="solid",a.style.outlineColor=d)}),window.requestAnimationFrame(t)};window.requestAnimationFrame(t)}disable(){this.debugOutlineElements.forEach(t=>t.remove()),this.enabled=!1}toggle(){this.enabled?this.disable():this.enable()}updateRect(t){this.subRect=t}}function it(t,e,n){const i=n.viewableColor;if(i&&t)return i;const r=n.viewinColor,s=n.viewoutColor;if(e){if(r)return r}else if(s)return s;return n.defaultColor}class rt{constructor(t,e,n,i,r){this.elementRef=e,this.settings=i,this.subRect=r,this.debugCenterElement=function(t){const e=ct(t);return e.dataset.uadf="center",e.style.width="5px",e.style.height="5px",e.style.zIndex=dt.toString(),e.style.position="fixed",e}(n),t.addEventListener("viewable",()=>this.viewableFired=!0),t.addEventListener("viewin",()=>this.viewIn=!0),t.addEventListener("viewout",()=>this.viewIn=!1),this.enabled=this.viewableFired=this.viewIn=!1}enable(){this.enabled=!0,document.body.contains(this.debugCenterElement)||document.body.appendChild(this.debugCenterElement);const t=()=>{const e=this.elementRef.deref();if(!this.enabled||!e)return;const n=void 0===this.subRect,i=this.settings.forMovie&&n,r=Z(e,this.subRect);if(0===r.width||0===r.height||i)return void(this.debugCenterElement.style.display="none");this.debugCenterElement.style.display="block";const s=X(e,this.subRect);this.debugCenterElement.style.backgroundColor=it(this.viewableFired,this.viewIn,this.settings),this.debugCenterElement.style.top=s[0].y+2+"px",this.debugCenterElement.style.left=s[0].x+2+"px",window.requestAnimationFrame(t)};window.requestAnimationFrame(t)}disable(){this.debugCenterElement.remove(),this.enabled=!1}toggle(){this.enabled?this.disable():this.enable()}updateRect(t){this.subRect=t}}class st{constructor(t,e,n){this.elementRef=t,this.subRect=n,this.debugDSElement=function(t){const e=ct(t);e.style.left="0px",e.style.position="fixed",e.style.zIndex=dt.toString();const n=ct(t);return n.textContent=t,n.dataset.uadfDsLabel=t,n.style.padding="3px",n.style.color="#ffffff",n.style.fontSize="12px",n.style.lineHeight="12px",n.style.backgroundColor="#696969",n.style.transform="translate(-50%, 0)",e.appendChild(n),e}(e),this.enabled=!1}enable(){this.enabled=!0,document.body.contains(this.debugDSElement)||window.document.body.appendChild(this.debugDSElement);const t=()=>{const e=this.elementRef.deref();if(!this.enabled||!e)return;const n=Z(e,this.subRect);0!==n.width&&0!==n.height?(this.debugDSElement.style.display="block",this.debugDSElement.style.top=n.top+"px",this.debugDSElement.style.left=n.left+n.width/2+"px",window.requestAnimationFrame(t)):this.debugDSElement.style.display="none"};window.requestAnimationFrame(t)}disable(){this.debugDSElement.remove(),this.enabled=!1}toggle(){this.enabled?this.disable():this.enable()}updateRect(t){this.subRect=t}}class ot{constructor(t){this.eventTarget=t,this.debugEvents=v.filter(t=>"timer"!==t&&"viewcontinue"!==t),this.enabled=!1}enable(){this.enabled=!0,this.debugEvents.forEach(t=>{this.eventTarget.addEventListener(t,ht)})}disable(){this.enabled=!1,this.debugEvents.forEach(t=>{this.eventTarget.removeEventListener(t,ht)})}toggle(){this.enabled?this.disable():this.enable()}updateRect(t){}}class at{constructor(t){this.eventTarget=t,this.enabled=!1}enable(){this.enabled=!0,this.eventTarget.addEventListener("timer",ht)}disable(){this.enabled=!1,this.eventTarget.removeEventListener("timer",ht)}toggle(){this.enabled?this.disable():this.enable()}updateRect(t){}}const dt=2147483647;function ct(t){const e=document.createElement("div");return e.dataset.targetId=t,e.style.margin="0px",e.style.padding="0px",e.style.border="0px",e}class lt{constructor(t,e,n,i,r){this.eventTarget=t,this.elementRef=e,this.settings=i,this.subRect=r,this.tools={outline:new nt(t,e,n,i,r),centerpoint:new rt(t,e,n,i,r),id:new st(e,n,r),timer:new at(t),target:new ot(t)},this.historyEventListeners={timer:new ut,intersection:new ut,updateRect:new ut,viewin:new ut,viewout:new ut,viewcontinue:new ut,viewable:new ut},Object.entries(this.historyEventListeners).forEach(e=>{let[n,i]=e;return t.addEventListener(n,i)})}getHistory(t){return this.historyEventListeners[t].getHistory()}updateRect(t){this.subRect=t,Object.entries(this.tools).forEach(e=>{let[n,i]=e;i.updateRect(t)})}changeDebugMode(t,e){var n;if(!(null===(n=this.settings.dropFeatures)||void 0===n?void 0:n.includes(e)))switch(t){case"enable":this.tools[e].enable();break;case"disable":this.tools[e].disable();break;case"toggle":this.tools[e].toggle()}}}class ut{get limit(){return this._limit}constructor(){this._limit=20,this.events=[]}handleEvent(t){const e=t.target;this.events.push(Object.assign({type:t.type,time:(new Date).getTime()},e.getDebugInfo())),this.events.length>this.limit&&this.events.shift()}getHistory(){return this.events}}function ht(t){console.info(t)}class ft extends class{constructor(){this.eventListeners={viewin:[],viewout:[],viewcontinue:[],viewable:[],timer:[],intersection:[],updateRect:[]}}dispatchEvent(t){this.eventListeners[t.type].forEach(e=>{"handleEvent"in e?e.handleEvent(t):e(t)})}addEventListener(t,e){this.eventListeners[t].push(e)}removeEventListener(t,e){this.eventListeners[t]=this.eventListeners[t].filter(t=>t!==e)}}{constructor(t,e,n,i,r){super(),this.elementRef=t,this.id=e,this.viewInDetector=n,this.viewStateMachine=i,this.clonedIntersectionObserverEntryOmitTarget=null,this.subRect=r.subRect,this.userData=r.userData,this.viewStateMachine.setCallback(t=>{"viewable"===t?(this.viewableFired||this.dispatchEvent({type:"viewable",target:this}),this.viewableFired=!0):this.dispatchEvent({type:t,target:this})}),this.viewableFired=!1,this.debugHelper=new lt(this,t,e,r.debugSettings,r.subRect)}onInterSectionEvent(t,e){const n=function(t){return{time:t.time,rootBounds:t.rootBounds,boundingClientRect:t.boundingClientRect,intersectionRect:t.intersectionRect,isIntersecting:t.isIntersecting,intersectionRatio:t.intersectionRatio,target:t.target}}(t),{target:i}=n,r=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(n,["target"]);this.clonedIntersectionObserverEntryOmitTarget=r,this.onPolling(e),this.dispatchEvent({type:"intersection",target:this})}updateRect(t,e){this.subRect=t,this.debugHelper.updateRect(t),this.onPolling(e),this.dispatchEvent({type:"updateRect",target:this})}hasSubRect(){return!!this.subRect}onTimer(t){this.onPolling(t),this.dispatchEvent({type:"timer",target:this})}equals(t){if(!(t instanceof ft))return!1;const e=t;return this.elementRef.deref()===e.elementRef.deref()&&this.id===e.id&&this.subRect===e.subRect}onPolling(t){if(!this.clonedIntersectionObserverEntryOmitTarget)return;const e=this.elementRef.deref(),n=void 0!==e&&this.viewInDetector.isViewIn(e,this.clonedIntersectionObserverEntryOmitTarget,this.subRect);this.viewStateMachine.advanceState(n,t)}getId(){return this.id}changeDebugMode(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(e=>this.debugHelper.changeDebugMode(t,e))}getHistory(t){return this.debugHelper.getHistory(t)}getDebugInfo(){return{elementRef:this.elementRef,id:this.id,viewInDetector:this.viewInDetector.getDebugInfo(),intersectionObserverEntryOmitTarget:this.clonedIntersectionObserverEntryOmitTarget,subRect:this.subRect,viewableFired:this.viewableFired,userData:this.userData}}}class pt{constructor(){this.VIEWED_TIME_CONDITION=1e3,this.lastViewedStart=-1,this.currentViewedTime=0,this.callback=t=>{},this.state="viewout"}advanceState(t,e){switch(this.state){case"viewin":t?this.handleViewContinue(e):(this.handleViewOut(e),this.state="viewout");break;case"viewout":t&&(this.handleViewIn(e),this.state="viewin")}}setCallback(t){this.callback=t}handleViewIn(t){this.lastViewedStart=t,this.currentViewedTime=0,this.callback("viewin")}handleViewContinue(t){this.callback("viewcontinue"),this.currentViewedTime=t-this.lastViewedStart,this.currentViewedTime>=this.VIEWED_TIME_CONDITION&&this.callback("viewable")}handleViewOut(t){this.currentViewedTime=t-this.lastViewedStart,this.currentViewedTime>=this.VIEWED_TIME_CONDITION&&this.callback("viewable"),this.lastViewedStart=-1,this.currentViewedTime=0,this.callback("viewout")}}class mt{getDebugInfo(){var t;const e=null===(t=this.lastOcclusionResult)||void 0===t?void 0:t.hitElem;return this.lastOcclusionResult&&(this.lastOcclusionResult.hitElem=null),{lastIsHidden:this.lastIsHidden,lastOcclusionResult:Object.assign(Object.assign({},this.lastOcclusionResult),{hitElem:e})}}constructor(t){this.occlusionChecker=t,this.VIEWED_AREA_CONDITION=.5,this.lastIsHidden=null,this.lastOcclusionResult=null}isViewIn(t,e,n){if(!e.intersectionRatio)return!1;if(n){const t=new DOMRectReadOnly(n.x+e.boundingClientRect.x,n.y+e.boundingClientRect.y,n.width,n.height),i=this.calcIntersection(t,e.intersectionRect);if(i.width*i.height/(t.width*t.height)<this.VIEWED_AREA_CONDITION)return!1}else if(e.intersectionRatio<this.VIEWED_AREA_CONDITION)return!1;return this.lastIsHidden=this.isHidden(t),!this.lastIsHidden&&(this.lastOcclusionResult=this.occlusionChecker.isOccluded(t,n),!this.lastOcclusionResult.isOccluded)}isHidden(t){return"hidden"===window.getComputedStyle(t).visibility||document.hidden}calcIntersection(t,e){const n=Math.max(t.left,e.left),i=Math.max(t.top,e.top),r=Math.min(t.right,e.right),s=Math.min(t.bottom,e.bottom);return n>=r||i>=s?new DOMRectReadOnly(0,0,0,0):new DOMRectReadOnly(n,i,r-n,s-i)}}class vt{constructor(t){this.occlusionChecker=t}createViewMessagePushTarget(t,e){const n=new K(t),i=new gt(n,O(e)+"(ViewPushTarget)",new mt(this.occlusionChecker),new pt,{userData:{patternCode:e},debugSettings:{dropFeatures:["id"],thickness:4,offset:3,forMovie:!0,viewinColor:"blue",viewoutColor:"red",defaultColor:"red"}});return i.initViewableViewInViewOutEventListener(),i.changeDebugMode("disable","id"),i}}class gt extends ft{constructor(t,e,n,i,r){super(t,e,n,i,r),this.loadedFrameRef=t}initViewableViewInViewOutEventListener(){this.addEventListener("viewin",()=>this.sendNotification("view-in",this.loadedFrameRef.deref())),this.addEventListener("viewout",()=>this.sendNotification("view-out",this.loadedFrameRef.deref())),this.addEventListener("viewable",()=>this.sendNotification("viewable",this.loadedFrameRef.deref()))}sendNotification(t,e){const n=null==e?void 0:e.contentWindow;if(!n||!n.postMessage)return;const i={cmd:"viewStateChanged",eventType:t};n.postMessage(i,"*")}equals(t){return!!super.equals(t)&&t instanceof gt}}class wt{constructor(t,e,n,i){this.vimpsBeaconSender=t,this.viewThroughBeaconSender=e,this.occlusionChecker=n,this.viewInTimeHandlerFactory=i}createVimpsTarget(t,e,n,i,r,s){const o=new K(t),a=new yt(o,O(r),new mt(this.occlusionChecker),new pt,{subRect:null==s?void 0:s.subRect,userData:{viewableInfo:e,adprodsetCode:r},debugSettings:{thickness:6,viewableColor:"green",defaultColor:"red"}},e,i,r,this.vimpsBeaconSender,this.viewThroughBeaconSender);return a.initViewableEventListener(e,n,s),this.viewInTimeHandlerFactory&&this.viewInTimeHandlerFactory.setupViewInTimeHandler(a,e,r,s),a}}class yt extends ft{constructor(t,e,n,i,r,s,o,a,d,c){super(t,e,n,i,r),this.viewableInfo=s,this.audit=o,this.adprodsetCode=a,this.vimpsBeaconSender=d,this.viewThroughBeaconSender=c}initViewableEventListener(t,e,n){this.addEventListener("viewable",()=>{const i=(null==n?void 0:n.makeVimpsAdditionalParams)?n.makeVimpsAdditionalParams():new URLSearchParams;this.vimpsBeaconSender.sendViewableBeacon(e,t,this.audit,this.adprodsetCode,i),this.sendViewThroughConversionBeacon(null==n?void 0:n.viewableTrackingUrlList)})}sendViewThroughConversionBeacon(t){null==t||t.forEach(t=>{this.viewThroughBeaconSender.sendBeacon(t)})}equals(t){if(!super.equals(t))return!1;if(!(t instanceof yt))return!1;const e=t;return this.viewableInfo===e.viewableInfo&&this.adprodsetCode===e.adprodsetCode}}n(145);class bt{constructor(t){this.callbacks=[],this.observer=new IntersectionObserver(t=>{this.callbacks.forEach(e=>e(t,(new Date).getTime()))},t)}observe(t){this.observer.observe(t)}unobserve(t){this.observer.unobserve(t)}addCallback(t){this.callbacks.push(t)}}class _t{constructor(){const t=U();this.timeSrc={getTime:()=>(new Date).getTime()},this.monitor=this.buildMonitor();const e=this.buildResendProtector();this.mimpsSender=this.buildMimpsSender(t,this.timeSrc,e),this.vimpsSender=this.buildVimpsSender(t,this.timeSrc,e);const n=this.buildViewInTimeSender(e),i=new et(n,this.timeSrc);[this.vimpsTargetFactory,this.viewMessagePushTargetFactory]=this.buildFactory(this.vimpsSender,i)}buildMonitor(){const t=[...new Array(101)].map((t,e)=>e/100),e=new bt({threshold:[.5]}),n=new bt({threshold:t});return new G(e,n)}buildResendProtector(){const t=function(){try{return!!(window.sessionStorage&&window.sessionStorage.getItem&&window.sessionStorage.setItem)}catch(t){return!1}}()?window.sessionStorage:new H;return new V(t)}buildMimpsSender(t,e,n){return new F(new j(new C,t,e),n)}buildVimpsSender(t,e,n){const i=new B(new L,t,e);return new q(i,n)}buildViewInTimeSender(t){const e=new J(new Y);return new z(e,t)}buildFactory(t,e){const n=new D,i=new Q;return[new wt(t,n,i,e),new vt(i)]}}function It(t){if("string"==typeof t)try{const e=JSON.parse(decodeURIComponent(t));return function(t){if("object"==typeof t&&null!==t){const e=t;return"string"==typeof e.url&&"string"==typeof e.tk&&"string"==typeof e.p&&"string"==typeof e.d&&"string"==typeof e.ds_code&&"string"==typeof e.request_id&&"string"==typeof e.bid_request_id&&"string"==typeof e.bid_response_id}return!1}(e)?e:void 0}catch(t){return}}function St(t){const e=t.split("/");if(e.length<4)return null;const n=parseInt(e[0],10),i=parseInt(e[1],10),r=parseInt(e[2],10),s=parseInt(e[3],10);return isNaN(n)||isNaN(i)||isNaN(r)||isNaN(s)?null:{top:n,right:i,bottom:r,left:s}}class At{constructor(t,e){this.eventHandlers=t,this.timeSrc=e}handleEvent(t){const e="string"==typeof t.data?function(t){const e=t.split(",");if(e.length<1)return null;switch(e[0]){case"frameStarted":return e.length<3?null:{cmd:"frameStarted",vimpsMode:parseInt(e[1],10),patternCode:e[2]};case"frameLoaded":case"frameScrolled":{if(e.length<5)return null;const t=function(t){return t.split("|").map(t=>function(t){const e=t.split("/");if(e.length<4||e.length>6)return null;const n=St(t);if(!n)return null;const i=e[4]&&0!==e[4].length?e[4]:null;if(!i)return null;const r=e[5]?function(t){try{return JSON.parse(decodeURIComponent(t))}catch(t){return[]}}(e[5]):[];return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,viewableInfo:i,viewableTrackingUrlList:r}}(t)).filter(t=>!!t)}(e[4]);if(!t)return null;return{cmd:e[0],vimpsMode:e[1],adprodsetCode:e[2],requestId:e[3],adInfoList:t,measurableUrl:e[5],viewableUrl:e[6],sspKPIInfo:It(e[7]),isAudit:parseInt(e[8],10)}}case"frameUpdateCallbackElement":{if(e.length<2)return null;const t=St(e[1]);return t?{cmd:"frameUpdateCallbackElement",top:t.top,right:t.right,bottom:t.bottom,left:t.left}:null}default:return null}}(t.data):null!==t.data&&"object"==typeof t.data?t.data:null;if(!e)return;const n=this.eventHandlers[e.cmd];n&&n.handle(e,t,this.timeSrc.getTime())}}function Ot(t,e,n){0===e.length&&(e=g.flat());const i=e.filter(t=>!g.includes(t));if(i.length>0)throw new Error("invalid feature: ".concat(i," is not in [").concat(g,"]"));n.changeDebugMode(t,...e)}function Et(t,e,n,i,r,s){const o={markAdsForDebug:t=>{Ot("enable",["outline","centerpoint"],e),t&&Ot("enable",["id"],e)},toggleDsDisplayForDebug:()=>{Ot("toggle",["id"],e)},enableDebug(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Ot("enable",n,e)},disableDebug(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Ot("disable",n,e)},toggleDebug(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Ot("toggle",n,e)},dump:t=>({target:e.dump(t),messageEvent:{frameStarted:n.frameStarted.getHistory(),frameLoaded:n.frameLoaded.getHistory(),frameScrolled:n.frameScrolled.getHistory(),frameUpdateCallbackElement:n.frameUpdateCallbackElement.getHistory()},renderedEvent:{notifyRendered:i.getHistory(),notifyStreamAttached:r.getHistory(),notifyTimelineAttached:s.getHistory()}})};return Object.assign(Object.assign({},t),o)}class kt{constructor(t,e,n){this.factory=t,this.monitor=e,this.mimpsBeaconSender=n}handle(t,e,n){const i=parseInt(t.vimpsMode,10);if(isNaN(i))return;if(!p(i)){const e=t.adInfoList.map(t=>t.viewableInfo);return void this.mimpsBeaconSender.sendMeasurableBeacon(t.measurableUrl,e,d.NonMeasurable,t.adprodsetCode)}if(!e.source)return;const r=f(window,e.source);if(!r)return;if("non_ydn"===t.requestId)return;const s=t.adInfoList.map((e,n)=>{const i=e.viewableInfo;return i?this.factory.createVimpsTarget(r,i,t.viewableUrl,t.isAudit,t.adprodsetCode,{subRect:new DOMRectReadOnly(e.left,e.top,e.right-e.left,e.bottom-e.top),viewableTrackingUrlList:e.viewableTrackingUrlList,sspKPIInfo:t.sspKPIInfo,rankFrom1:n+1}):null});this.monitor.register(r,s.filter(t=>null!=t));const o=t.adInfoList.map(t=>t.viewableInfo);this.mimpsBeaconSender.sendMeasurableBeacon(t.measurableUrl,o,d.Measurable,t.adprodsetCode)}}class Tt{constructor(t){this.monitor=t}handle(t,e,n){if(!e.source)return;const i=f(window,e.source);if(!i)return;const r=t.adInfoList.map(t=>new DOMRectReadOnly(t.left,t.top,t.right-t.left,t.bottom-t.top));this.monitor.updateRect(i,t=>t instanceof yt,r,n)}}class Mt{constructor(t,e){this.factory=t,this.monitor=e}handle(t,e,n){if(isNaN(t.vimpsMode))return;if(!p(t.vimpsMode))return;const i=f(window,e.source);if(!i)return;const r=this.factory.createViewMessagePushTarget(i,t.patternCode);this.monitor.register(i,[r])}}class Rt{constructor(t){this.monitor=t}handle(t,e,n){if(!e.source)return;const i=f(window,e.source);if(!i)return;const r=new DOMRectReadOnly(t.left,t.top,t.right-t.left,t.bottom-t.top);this.monitor.updateRect(i,t=>t instanceof gt,[r],n)}}class Pt{constructor(t){this.wrapped=t,this.limit=20,this.events=[]}handle(t,e,n){this.events.push(Object.assign({time:(new Date).getTime()},t)),this.events.length>this.limit&&this.events.shift(),this.wrapped.handle(t,e,n)}getHistory(){return this.events}}function xt(){const t=window.YJ_UADF;if(t&&t.YADSViewable&&t.YADSViewable.initialized)return;const e=new _t,n={frameStarted:new Pt(new Mt((i=e).viewMessagePushTargetFactory,i.monitor)),frameLoaded:new Pt(new kt(i.vimpsTargetFactory,i.monitor,i.mimpsSender)),frameScrolled:new Pt(new Tt(i.monitor)),frameUpdateCallbackElement:new Pt(new Rt(i.monitor))};var i;window.addEventListener("message",new At(n,e.timeSrc),!1);const r=new T(e),s=r.buildStreamAttachedHandler(),o=r.buildTimelineAttachedHandler(),a=r.buildRenderedEventHandler();setInterval(()=>{const t=new Date;e.monitor.onTimer(t.getTime())},100);const d={initialized:!0,notifyRendered:a.notifyRendered.bind(a),notifyStreamAttached:s.notifyStreamAttached.bind(s),notifyTimelineAttached:o.notifyTimelineAttached.bind(o)};window.YJ_UADF={YADSViewable:Et(d,e.monitor,n,a,s,o)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return rt}));var i={};n.r(i),n.d(i,"handle",(function(){return A})),n.d(i,"listen",(function(){return O}));var r=n(0);n(1),n(37);class s{constructor(t){this.hint=t}notifyRendered(){var t,e;const n={adProdSetCode:this.hint.adProdSetCode,measurableUrl:this.hint.measurableUrl,requestId:this.hint.requestId,type:"frame",viewableInfo:null===(t=this.hint.viewableInfoList)||void 0===t?void 0:t[0],viewableTrackingUrlList:null===(e=this.hint.viewableTrackingUrlList)||void 0===e?void 0:e[0],viewableUrl:this.hint.viewableUrl,vimpsMode:this.hint.vimpsMode,isAudit:this.hint.isAudit,sspKPIInfo:this.hint.sspKPIInfo};window.yads_vimps_hint=n}static notifyLoaded(){if(this.isTopWindow())return;const t=window.yads_vimps_hint;let e;if(!t)return e=s.extractAdProdSetCodeForNonYDA(),void window.parent.postMessage("frameLoaded,-1,"+e+",non_ydn,","*");e=t.adProdSetCode;let n=0;const i=function(){var r;const o=s.buildFrameLoadMessage(t,null,!0);if(!o)return void(n<10?(n++,window.setTimeout(i,100)):window.parent.postMessage("frameLoaded,-1,"+e+",non_ydn,","*"));null===(r=window.parent)||void 0===r||r.postMessage("frameLoaded,"+o,"*"),s.createFirstAdAreaChecker(t);const a=s.createOnScroll(t);window.addEventListener("touchmove",a,!1),window.addEventListener("scroll",a,!1)};i()}static isTopWindow(){return window===window.top}static extractAdProdSetCodeForNonYDA(){const t=window.location.search.match(/[?&]s=([^&]+)/);return t&&2===t.length?t[1]:""}static buildSSPKPIInfo(t){return t?encodeURIComponent(JSON.stringify(t)):""}static buildFrameLoadMessage(t,e,n){const i=t.vimpsMode,o=t.adProdSetCode,a=t.requestId,d=t.viewableInfo||null,c=t.viewableTrackingUrlList,l=t.isAudit;let u="";const h=e||r.a.findViewableTargetElements(document);if(0==h.length)return;const f=h.length;for(let t=0;t<f;t++){const e=h[t].getBoundingClientRect(),i=d&&d[t]||"";u.length>0&&(u+="|"),u+=Math.round(e.top)+"/"+Math.round(e.right)+"/"+Math.round(e.bottom)+"/"+Math.round(e.left)+"/"+i,n&&(null==c?void 0:c[t])&&(null==c?void 0:c[t].length)>0&&(u+="/"+encodeURIComponent(JSON.stringify(c[t])))}const p=s.buildSSPKPIInfo(null==t?void 0:t.sspKPIInfo);return"".concat(i,",").concat(o,",").concat(a,",").concat(u,",").concat(null==t?void 0:t.measurableUrl,",").concat(null==t?void 0:t.viewableUrl,",").concat(p,",").concat(l)}static checkPositionChange(t,e){let n=!1;const i=t.length;for(let r=0;r<i;r++){const i=t[r],s=i.getBoundingClientRect(),o=e[i];o&&o.top==s.top&&o.right==s.right&&o.left==s.left&&o.bottom==s.bottom||(n=!0,e[i]=s)}return n}static createFirstAdAreaChecker(t){const e=r.a.findViewableTargetElements(document);if("ResizeObserver"in window){const n=new ResizeObserver(()=>{const n=s.buildFrameLoadMessage(t,e,!1);n&&window.parent.postMessage("frameScrolled,"+n,"*")});for(const t of e)n.observe(t);n.observe(document.body)}else{const e=100;let n=0;const i=t=>{for(const e of t){const t=e.getBoundingClientRect();if(t.top!==e.dataset.top||t.left!==e.dataset.left||t.width!==e.dataset.width||t.height!==e.dataset.height)return e.dataset.top=t.top,e.dataset.left=t.left,e.dataset.width=t.width,e.dataset.height=t.height,!0}return!1},o=()=>{if(n>=5e3)return;const a=r.a.findViewableTargetElements(document);if(i(a)){const e=s.buildFrameLoadMessage(t,a,!1);if(!e)return;window.parent.postMessage("frameScrolled,"+e,"*")}n+=e,setTimeout(o,e)};o()}}static createOnScroll(t){const e={};let n,i=0;return function o(){n||(n=setInterval(o,500));const a=(new Date).getTime();if(a-i<=100)return;i=a;const d=r.a.findViewableTargetElements(document),c=s.buildFrameLoadMessage(t,d,!1);c&&s.checkPositionChange(d,e)&&window.parent.postMessage("frameScrolled,"+c,"*")}}}class o{constructor(t,e,n){this.config=t,this.currentProductIndex=e,this.firstInside=n,this.product=this.config.products[e]}dispatch(){var t;r.a.isInnerYadsIframe()?(this.firstInside&&window.parent.postMessage({cmd:"frameStarted",vimpsMode:this.config.measurable,patternCode:this.config.patternCode},"*"),this.sendBounceTrackingProtectionBeacon(),window.addEventListener("load",o.adDone,!1),void 0!==this.product.width&&void 0!==this.product.height&&(null===(t=window.parent)||void 0===t||t.postMessage("resizeFrame,".concat(this.product.width,",").concat(this.product.height),"*")),12!==this.product.adprodType?document.write(this.product.adTag):class{static dispatch(t){const e=t.replace("rla=SSP_FP_CODE_RLA","rla=").replace("rlb=SSP_FP_CODE_RLB","rlb=");document.write(e)}}.dispatch(this.product.adTag)):this.openYADSIframe()}openYADSIframe(){var t,e;let n=o.appendStartProdNum(this.config.frameTag,this.currentProductIndex);if(null===(e=null===(t=document.featurePolicy)||void 0===t?void 0:t.features)||void 0===e?void 0:e.call(t).includes("conversion-measurement")){const t=(new DOMParser).parseFromString(n,"text/html");t.getElementsByTagName("iframe")[0].allow+=";conversion-measurement",n=t.getElementsByTagName("div")[0].outerHTML}r.a.insertTag(n,this.config.targetID)}sendBounceTrackingProtectionBeacon(){if(1e-6<=Math.random())return;const t=r.a.parseQuery(window.location.href).fr_id;document.createElement("img").src="https://yads.yjtag.yahoo.co.jp/b?fr_id=".concat(t)}static replaceDspAdLinkTarget(){const t=document.getElementById("dsp-link-target");if(!t)return;const e=document.getElementsByTagName("a");let n=null;for(let t=0,i=e.length;t<i;t++)if(e[t].href.startsWith("http://ads.yahoo.com/clk?")){n=e[t];break}n&&(n.target=t.getAttribute("data-link-target")||"")}static adDone(){o.replaceDspAdLinkTarget(),s.notifyLoaded()}static appendStartProdNum(t,e){return t.replace("yads-iframe.html?","yads-iframe.html?start_prod_num=".concat(e,"&"))}}class a{constructor(t,e){var n,i;this.config=t,this.targetID=e,null!==(n=(i=this.config).adTag)&&void 0!==n||(i.adTag="")}dispatch(){r.a.appendHtml(document.getElementById(this.targetID),this.config.adTag)}}class d{constructor(t,e){var n,i;this.config=t,this.targetID=e,null!==(n=(i=this.config).adTag)&&void 0!==n||(i.adTag="")}dispatch(){r.a.appendHtml(document.getElementById(this.targetID),this.config.adTag)}}class c{constructor(t,e){var n,i;this.config=t,this.targetID=e,null!==(n=(i=this.config).adTag)&&void 0!==n||(i.adTag="")}dispatch(){r.a.appendHtml(document.getElementById(this.targetID),this.config.adTag)}}class l{constructor(t,e){this.config=t,this.currentProductIndex=e,this.product=this.config.products[e]||{}}dispatch(t){if(r.a.isInnerYadsIframe())this.closeYADSIframe();else switch(3===this.product.adprodType&&this.reShowYADSIframe(null==t?void 0:t.displayNoneYadsIFrame),this.product.adprodType){case 3:new d(this.product,this.config.targetID).dispatch();break;case 15:new a(this.product,this.config.targetID).dispatch();break;case 16:new c(this.product,this.config.targetID).dispatch();break;default:(class{static dispatch(t){t&&r.a.executeCallback(t,[{reason:2}])}}).dispatch(this.config.noAdCallback)}}closeYADSIframe(){var t;null===(t=window.parent)||void 0===t||t.postMessage("passbackFromIframe,".concat(this.config.dsCode,",").concat(this.currentProductIndex),"*")}reShowYADSIframe(t){if(!t)return;const e=document.getElementById(this.config.targetID);if(!e)return;const n=e;n.renderAdHooks||(n.renderAdHooks=[]),t.style.display="";const i=()=>{t.style.display="none"};n.renderAdHooks.push(i),setTimeout(i,3e3)}}class u{constructor(t){var e,n,i,r,s,o,a,d,c,l,u,h,f;this.deliverConfig=t,this.currentProductIndex=0,this.alreadyPassbackFromGAM=!1,null!==(e=(a=this.deliverConfig).dsCode)&&void 0!==e||(a.dsCode=""),null!==(n=(d=this.deliverConfig).patternCode)&&void 0!==n||(d.patternCode=""),(c=this.deliverConfig).targetID||(c.targetID="yads_dummy_parent_"+Math.floor(999999999*Math.random())),null!==(i=(l=this.deliverConfig).noAdCallback)&&void 0!==i||(l.noAdCallback=""),null!==(r=(u=this.deliverConfig).measurable)&&void 0!==r||(u.measurable=1),null!==(s=(h=this.deliverConfig).frameTag)&&void 0!==s||(h.frameTag=""),null!==(o=(f=this.deliverConfig).products)&&void 0!==o||(f.products=[]),this.deliverConfig.products=this.deliverConfig.products.map(t=>{var e,n;return Object.assign(Object.assign({},t),{adprodsetCode:null!==(e=t.adprodsetCode)&&void 0!==e?e:"",adTag:null!==(n=t.adTag)&&void 0!==n?n:""})}),this.nonIframeYDA=[],this.deliverConfig.products.forEach(t=>{this.isRichAd(t)&&this.nonIframeYDA.push(t.adprodsetCode)}),this.friendlyIframeYDA={},this.deliverConfig.products.forEach(t=>{this.isRichAd(t)&&(this.friendlyIframeYDA[t.adprodsetCode]={width:t.width,height:t.height})})}dispatch(t){var e,n,i;this.currentProductIndex=this.decideCurrentProductIndex(null==t?void 0:t.startProductIndex);const s=null===(e=this.deliverConfig.products)||void 0===e?void 0:e[this.currentProductIndex];this.removeAllChildNodesExceptIframe(this.deliverConfig.targetID);const a=document.getElementById(this.deliverConfig.targetID);if(this.deliverConfig.targetID&&!a){if((null===(i=null===(n=null===window||void 0===window?void 0:window.YJ_YADS)||void 0===n?void 0:n.asyncFlags)||void 0===i?void 0:i[this.deliverConfig.targetID])&&!r.a.isInnerYadsIframe())return;document.write('<div id="'.concat(this.deliverConfig.targetID,'"></div>'))}if(this.isInsideProduct(s)){const e=void 0!==(null==t?void 0:t.startProductIndex);new o(this.deliverConfig,this.currentProductIndex,e).dispatch()}else new l(this.deliverConfig,this.currentProductIndex).dispatch(t)}decideCurrentProductIndex(t){let e=t||this.currentProductIndex;return r.a.isInnerYadsIframe()||t!==this.currentProductIndex||e++,e}removeAllChildNodesExceptIframe(t){const e=document.getElementById(t);if(!e)return;const n=Array.prototype.slice.call(e.children);for(const t of n){const n=Array.prototype.slice.call(t.children).map((function(t){return t.nodeName}));"IFRAME"===t.nodeName||n.includes("IFRAME")||"1"===t.getAttribute("data-ydnnoad-container")||e.removeChild(t)}}isRichAd(t){return 3===t.adprodType&&0===t.iframeFlag}isInsideProduct(t){return!!t&&([3,4,5,6,12].includes(t.adprodType)&&!this.isRichAd(t))}passback(t){if("gam"===(null==t?void 0:t.from)){if(this.alreadyPassbackFromGAM)return;this.alreadyPassbackFromGAM=!0}this.currentProductIndex++,this.dispatch()}getCurrentProduct(){var t,e;return{adprodsetCode:null===(t=this.deliverConfig.products[this.currentProductIndex])||void 0===t?void 0:t.adprodsetCode,adprodType:null===(e=this.deliverConfig.products[this.currentProductIndex])||void 0===e?void 0:e.adprodType}}getNonIframeYDA(){return this.nonIframeYDA}getFriendlyIframeYDA(){return this.friendlyIframeYDA}}var h=n(16);n(114);class f{constructor(t,e,n){var i,r,s,o;this.config=t,this.targetID=e,this.passback=n,null!==(i=(s=this.config).adURL)&&void 0!==i||(s.adURL=""),null!==(r=(o=this.config).position)&&void 0!==r||(o.position="")}dispatch(){var t;const e=document.getElementById(this.targetID),n=null===(t=this.config.position)||void 0===t?void 0:t.split(",").map(t=>t.trim());for(const t of n){const n=document.createElement("div");n.id=t,null==e||e.appendChild(n)}r.a.loadScript(this.config.adURL,()=>{var t,e,i,r;let s=void 0;function o(){var t;for(const e of n){const n=document.getElementById(e);null===(t=null==n?void 0:n.parentNode)||void 0===t||t.removeChild(n)}}if(/\/mempf\/sync\//.test(this.config.adURL)?s=null===(e=null===(t=null===YAHOO||void 0===YAHOO?void 0:YAHOO.JP)||void 0===t?void 0:t.mempf)||void 0===e?void 0:e.sync:/\/mempf\/sync2\//.test(this.config.adURL)&&(s=null===(r=null===(i=null===YAHOO||void 0===YAHOO?void 0:YAHOO.JP)||void 0===i?void 0:i.mempf)||void 0===r?void 0:r.sync2),void 0===s)return o(),void this.passback();s.setPassbackFunction(()=>{o(),this.passback()}),s.init(n.join(","))},!0)}}class p{constructor(t){var e,n;this.config=t,null!==(e=(n=this.config).adURL)&&void 0!==e||(n.adURL="")}dispatch(){r.a.loadScript(this.config.adURL,null,!0)}}class m{constructor(t){var e,n,i,r,s,o;this.deliverConfig=t,this.currentProductIndex=0,null!==(e=(r=this.deliverConfig).products)&&void 0!==e||(r.products=[]),null!==(n=(s=this.deliverConfig).targetID)&&void 0!==n||(s.targetID=""),null!==(i=(o=this.deliverConfig).noAdCallback)&&void 0!==i||(o.noAdCallback="")}dispatch(){var t;const e=null===(t=this.deliverConfig.products)||void 0===t?void 0:t[this.currentProductIndex],n=null==e?void 0:e.adprodType;if(3===(null==(i=e)?void 0:i.adprodType)&&void 0!==(null==i?void 0:i.adURL))new p(e).dispatch();else{if(!(t=>16===(null==t?void 0:t.adprodType)&&void 0!==(null==t?void 0:t.adURL)&&void 0!==(null==t?void 0:t.position))(e))throw new h.b("".concat(n));new f(e,this.deliverConfig.targetID,()=>this.passback()).dispatch()}var i}passback(){this.currentProductIndex++,this.currentProductIndex>=this.deliverConfig.products.length?this.deliverConfig.noAdCallback&&r.a.executeCallback(this.deliverConfig.noAdCallback,[{reason:2}]):this.dispatch()}}class v{constructor(t){this.deliverConfig=t}dispatch(){var t;const e=(null===(t=this.deliverConfig.products)||void 0===t?void 0:t[0].adURL)||"",n=this.deliverConfig.targetID||"";(class{static dispatch(t,e){var n,i;const s=!!(null===(i=null===(n=null===window||void 0===window?void 0:window.YJ_YADS)||void 0===n?void 0:n.asyncFlags)||void 0===i?void 0:i[e]),o=!!document.getElementById(e)||s&&!r.a.isInnerYadsIframe();r.a.loadScript(t,null,o)}}).dispatch(e,n)}}class g{constructor(t){var e;"js_single"===(null==(e=t)?void 0:e.outputType)&&void 0!==(null==e?void 0:e.products)?this.deliverProduct=new v(t):(t=>"js_responsive"===(null==t?void 0:t.outputType)&&void 0!==(null==t?void 0:t.products))(t)?this.deliverProduct=new m(t):(t=>"js_frame"===(null==t?void 0:t.outputType)&&void 0!==(null==t?void 0:t.measurable)&&void 0!==(null==t?void 0:t.frameTag)&&void 0!==(null==t?void 0:t.products))(t)&&(this.deliverProduct=new u(t),r.a.isInnerYadsIframe()&&(window.gCRITEO={passback:()=>this.passback()}))}dispatch(t){this.deliverProduct.dispatch(t)}passback(t){var e,n;null===(n=(e=this.deliverProduct).passback)||void 0===n||n.call(e,t)}getNonIframeYDA(){var t,e;return null===(e=(t=this.deliverProduct).getNonIframeYDA)||void 0===e?void 0:e.call(t)}getFriendlyIframeYDA(){var t,e;return null===(e=(t=this.deliverProduct).getFriendlyIframeYDA)||void 0===e?void 0:e.call(t)}}class w{constructor(t,e){this.window=t,this.scope=e,e in t||(t[this.scope]={})}store(t,e){this.window[this.scope][t]=e}fetch(t){return this.window[this.scope][t]}fetchOnIframe(){if(!r.a.isInnerYadsIframe())return;const t=[];for(const e in this.window[this.scope])if(Object.prototype.hasOwnProperty.call(this.window[this.scope],e)){const n=this.window[this.scope][e];t.push(n)}return t[0]}}var y=n(79),b=(n(38),n(24),n(12));function _(t){if(r.a.isSameOrigin())return!0;let e="";try{e=new URL(t).hostname}catch(t){return(new b.a).error(t),!1}return!("i.yimg.jp"!==e&&"s.yimg.jp"!==e&&!e.endsWith(".".concat("yahoo.co.jp"))&&"yahoo.co.jp"!==e)}class I{constructor(t,e){this.timeoutId=0,this.loadedFrame=t,this.origin=e.origin,this.win=e.source,this.listener=()=>{this.throttlingPostMessage()},this.forceStop=!1}postMessageOfPos(){const t=this.loadedFrame.getBoundingClientRect(),e={cmd:"notifyFramePos",vw:window.innerWidth,vh:window.innerHeight,cx:t.left,cy:t.top};this.forceStop||this.win.postMessage(e,this.origin)}throttlingPostMessage(){const t=this.loadedFrame.getBoundingClientRect();t.top>window.innerHeight||t.left>window.innerWidth||t.bottom<=0||t.right<=0||this.timeoutId||(this.timeoutId=setTimeout(()=>{this.timeoutId=0,this.postMessageOfPos()},62),this.postMessageOfPos())}listen(){this.forceStop=!1,window.addEventListener("scroll",this.listener)}detach(){this.forceStop=!0,window.removeEventListener("scroll",this.listener)}}const S=new Map;function A(t){const e=t.source;if(!_(t.origin))return;let n="";if(null!==(i=t.data)&&"object"==typeof i)n=t.data.cmd;else{if("string"!=typeof t.data)return;n=t.data}var i;let r;const s=document.getElementsByTagName("iframe");for(const t of s)t.contentWindow===e&&(r=t);if(r)switch(n){case"observeFrame":!function(t,e){const n=new I(t,e);S.set(t,n),n.postMessageOfPos(),n.listen()}(r,t);break;case"stopObserveFrame":!function(t){const e=S.get(t);e&&e.detach()}(r)}}function O(){window.addEventListener&&window.addEventListener("message",A)}class E{constructor(t){var e;this.uadfHint={adProdSetCode:t.adProdSetCode,measurableUrl:t.measurableUrl,parentId:t.parentId||"",requestId:t.requestId,sspKPIInfo:t.sspKPIInfo,type:"single_with_parent",viewableInfo:null===(e=t.viewableInfoList)||void 0===e?void 0:e[0],viewableUrl:t.viewableUrl,vimpsMode:t.vimpsMode,isAudit:t.isAudit}}notifyRendered(){r.a.isInnerYadsIframe()?window.parent.postMessage("notifyNoADViewable,"+JSON.stringify(this.uadfHint),"*"):E.notify(this.uadfHint)}static notifyLoaded(t){E.notify(t.hint)}static notify(t){const e=t.parentId&&document.getElementById(t.parentId);if(!e)return;const n=E.generateNoAdViewableElem();e.insertAdjacentElement("afterbegin",n),window.YJ_UADF.YADSViewable.notifyRendered(t)}static generateNoAdViewableElem(){const t=document.createElement("div");t.setAttribute("data-ydnnoad-container","1"),t.style.width="100%",t.style.height="0",t.style.position="relative",t.style.zIndex="-9999";const e=document.createElement("div");return e.style.width="100%",e.style.paddingTop="56.25%",e.style.opacity="0",e.setAttribute("data-ydntxt-item","1"),e.setAttribute("data-ydnnoad","1"),t.appendChild(e),t}}class k{listen(){r.a.isInnerYadsIframe()||(window.addEventListener("message",t=>this.handlePassbackFromIframe(t),!1),window.addEventListener("message",t=>this.handlePassbackFromGAM(t),!1)),window.addEventListener("message",t=>this.onMessageCallback(t),!1)}handlePassbackFromIframe(t){var e;if(!t.origin)return;let n,i,r;if("string"==typeof t.data){const e=t.data.split(",");if(!e||3!==e.length)return;n=e[0],i=e[1],r=parseInt(e[2],10)}else{if(null===t.data||"object"!=typeof t.data)return;{const e=t.data;n=e.cmd,i=e.dsCode,r=e.currentProd}}if("passbackFromIframe"!==n)return;const s=this.findFrame(t.source);s&&(s.style.display="none");const o=new w(window.YJ_YADS,"deliverProduct").fetch(i);null===(e=null==o?void 0:o.dispatch)||void 0===e||e.call(o,{startProductIndex:r,displayNoneYadsIFrame:s})}handlePassbackFromGAM(t){var e;if(!t.origin)return;if(null==t.data||"object"!=typeof t.data)return;const n=t.data;if("passbackGAM"!==n.cmd)return;const i=new w(window.YJ_YADS,"deliverProduct").fetch(n.dsCode);null===(e=null==i?void 0:i.passback)||void 0===e||e.call(i,{from:"gam"})}onMessageCallback(t){if(!_(t.origin))return;let e;if("string"==typeof t.data)e=this.parseMessage(t.data);else{if(null===t.data||"object"!=typeof t.data)return;e=t.data}var n;"resizeFrame"===(null==(n=e)?void 0:n.cmd)&&void 0!==(null==n?void 0:n.width)&&void 0!==(null==n?void 0:n.height)?this.resizeFrame(e,t.source):(t=>"notifyNoADViewable"===(null==t?void 0:t.cmd)&&void 0!==(null==t?void 0:t.hint))(e)?E.notifyLoaded(e):(t=>"logReferrer"===(null==t?void 0:t.cmd)&&void 0!==(null==t?void 0:t.requestID))(e)&&k.logReferrer(e)}resizeFrame(t,e){const n=this.findFrame(e);n&&(this.isValidFrameValue(t.width)&&(n.width=t.width),this.isValidFrameValue(t.height)&&(n.height=t.height))}parseMessage(t){const e=t.split(",");switch(e[0]){case"resizeFrame":return{cmd:"resizeFrame",width:e[1],height:e[2]};case"notifyNoADViewable":return{cmd:"notifyNoADViewable",hint:JSON.parse(e.slice(1).join())};default:return{cmd:""}}}findFrame(t){const e=document.getElementsByTagName("IFRAME");for(let n=0,i=e.length;n<i;n++)if(t==e[n].contentWindow)return e[n]}isValidFrameValue(t){return!!t&&"string"==typeof t&&!!t.trim()}static logReferrer(t){if(/^https?:\/\/(.*\.)?yahoo\.co\.jp(:\d+)?.*/.test(window.location.href))return;const e=document.referrer;if(!e)return;const n=new b.a,i={request_id:t.requestID,referrer:e};n.referrer(i)}}const T="visibilitychange",M={};function R(t){x("in",t)}function P(t){x("out",t)}function x(t,e){M[t]&&e&&"function"==typeof e&&M[t].push(e)}function D(t){if(t.type!==T)return;const e=document.hidden?"out":"in",n="".concat("yads-visibilitychange",",").concat(e),i=document.getElementsByTagName("iframe");for(const t of i)t.contentWindow&&(t.src.startsWith("https://s.yimg.jp")&&t.name.startsWith("yads")?t.contentWindow.postMessage(n,"https://s.yimg.jp"):window===window.top&&""===t.src&&t.contentWindow.postMessage(n,window.location.origin))}function C(t){if("message"!==t.type||!t.data)return;let e,n;if(null!==(i=t.data)&&"object"==typeof i){const i=t.data;e=i.cmd,n=i.visibilityState}else{if("string"!=typeof t.data)return;{const i=t.data.split(",");e=i[0],n=i[1]}}var i;if("yads-visibilitychange"!==e)return;const r=M[n];for(const e of r)try{e()}catch(t){}}function L(t){if(Array.isArray(t)&&0!==t.length)for(const e of t){if(!e)continue;if(!/^https:\/\//.test(e))continue;const n=document.createElement("img");try{n.src=e}catch(t){}}}function Y(t){t&&document.body.insertAdjacentHTML("beforeend",t)}function U(t){const e=function(t){if(!t)return"";const e=t.split("-");return 3===e.length?e[0]:""}(t);return new w(window.YJ_YADS,"deliverProduct").fetch(e)}function j(t,e){if(!e)return;const n="string"==typeof t?document.getElementById(t):t,i=e.length;for(let t=0;t<i;t++)F(n,e[t])}function F(t,e){if(!e)return;const n=document.createElement("script");n.type="text/javascript",n.src=e,t?t.appendChild(n):document.body.appendChild(n)}function N(){return window===window.top}function H(t,e,n,i){r.a.getFunctionObject(t)?i():e&&r.a.loadScript("https://s.yimg.jp/images/listing/tool/yads/".concat(e),i,!0)}M.in=[],M.out=[];class V{constructor(t,e){this.ydaAds=t,this.ydaMetaInfo=e}render(){return this.renderFIF()}renderFIF(){var t,e,n,i;const r=this.ydaMetaInfo.targetID,s=this.ydaMetaInfo.adprodset_code,o=this.adprodsetCodeToPatternCode(s),a=U(s),d={width:(null===(e=null===(t=null==a?void 0:a.getFriendlyIframeYDA)||void 0===t?void 0:t.call(a))||void 0===e?void 0:e[s].width)||"100%",height:(null===(i=null===(n=null==a?void 0:a.getFriendlyIframeYDA)||void 0===n?void 0:n.call(a))||void 0===i?void 0:i[s].height)||"100%"},c='<div style="text-align: center;"><iframe id="'.concat(r,'_ad_frame" name style="border:none;clear:both;margin:auto;overflow:hidden;display:block;" width="').concat(d.width,'" height="').concat(d.height,'" scrolling="no" title="Ad Content" allowtransparency="true" allow="fullscreen; attribution-reporting" allowfullscreen="true" frameborder="0"></iframe></div>'),l=document.createElement("script"),u='<style>body{background-color: transparent; padding: 0px; margin: 0px; text-align: center;}</style><body><script src="https://yads.c.yimg.jp/js/yads-async.js"><\/script><script>yadsRenderAd_v2('.concat(JSON.stringify(this.ydaAds),", ").concat(JSON.stringify(this.ydaMetaInfo),")<\/script><script>window.parent.postMessage({cmd: 'frameStarted', vimpsMode: 1, patternCode: '").concat(o,"'}, '*');window.addEventListener('load',function(){window.gAdController.adDone.apply(window.gAdController);});<\/script></body>").replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/\//g,"\\/");l.insertAdjacentHTML("beforeend","!function(){const iframe=document.querySelector('#".concat(r,"_ad_frame');iframe.setAttribute('srcdoc','").concat(u,"')}();"));const h=document.getElementById(r);null==h||h.insertAdjacentHTML("beforeend",c),null==h||h.appendChild(l)}adprodsetCodeToPatternCode(t){if(!t)return"";const e=t.split("-");return 3===e.length?e[0]+"-"+e[1]:""}isHandle(){var t;const e=this.ydaMetaInfo.adprodset_code,n=U(e);return!!((null===(t=null==n?void 0:n.getNonIframeYDA)||void 0===t?void 0:t.call(n))||[]).includes(e)&&!this.ydaMetaInfo.richad}}class B{constructor(t,e){this.hint=t,this.uadfNotifyRendered=e}notifyRendered(){var t,e;const n={adProdSetCode:this.hint.adProdSetCode,docWriteCaller:this.getDocWriteCaller(),measurableUrl:this.hint.measurableUrl,requestId:this.hint.requestId,sspKPIInfo:this.hint.sspKPIInfo,type:"doc_write",viewableInfo:null===(t=this.hint.viewableInfoList)||void 0===t?void 0:t[0],viewableTrackingUrlList:null===(e=this.hint.viewableTrackingUrlList)||void 0===e?void 0:e[0],viewableUrl:this.hint.viewableUrl,vimpsMode:this.hint.vimpsMode,isAudit:this.hint.isAudit};this.uadfNotifyRendered(n)}getDocWriteCaller(){const t=document.getElementsByTagName("script");let e=t.length-1;for(;e>=0;){const n=t[e];if(/\/\/yads\.(yjtag\.)?yahoo\.co\.jp\/tag\?/.test(n.src))return n;e--}return null}}class q{constructor(t,e){this.hint=t,this.uadfNotifyRendered=e}notifyRendered(){var t,e;const n=["rma-pdv","".concat(this.hint.parentId,"-rma"),"".concat(this.hint.parentId)],i={adProdSetCode:this.hint.adProdSetCode,measurableUrl:this.hint.measurableUrl,parentIdList:n,requestId:this.hint.requestId,sspKPIInfo:this.hint.sspKPIInfo,type:"richad",viewableInfo:null===(t=this.hint.viewableInfoList)||void 0===t?void 0:t[0],viewableTrackingUrlList:null===(e=this.hint.viewableTrackingUrlList)||void 0===e?void 0:e[0],viewableUrl:this.hint.viewableUrl,vimpsMode:this.hint.vimpsMode,isAudit:this.hint.isAudit};this.uadfNotifyRendered(i)}}class J{constructor(t,e){this.hint=t,this.uadfNotifyRendered=e}notifyRendered(){var t,e;const n={adProdSetCode:this.hint.adProdSetCode,measurableUrl:this.hint.measurableUrl,parentId:this.hint.parentId||"",requestId:this.hint.requestId,sspKPIInfo:this.hint.sspKPIInfo,type:"single_with_parent",viewableInfo:null===(t=this.hint.viewableInfoList)||void 0===t?void 0:t[0],viewableTrackingUrlList:null===(e=this.hint.viewableTrackingUrlList)||void 0===e?void 0:e[0],viewableUrl:this.hint.viewableUrl,vimpsMode:this.hint.vimpsMode,isAudit:this.hint.isAudit};this.uadfNotifyRendered(n)}}class z{constructor(t,e){this.hint=t,this.uadfNotifyRendered=e}notifyRendered(){var t,e;const n={adProdSetCode:this.hint.adProdSetCode,measurableUrl:this.hint.measurableUrl,requestId:this.hint.requestId,sspKPIInfo:this.hint.sspKPIInfo,type:"stream",viewableInfo:null===(t=this.hint.viewableInfoList)||void 0===t?void 0:t[0],viewableTrackingUrlList:null===(e=this.hint.viewableTrackingUrlList)||void 0===e?void 0:e[0],viewableUrl:this.hint.viewableUrl,vimpsMode:this.hint.vimpsMode,isAudit:this.hint.isAudit};this.uadfNotifyRendered(n)}}class W{constructor(t,e){this.hint=t,this.uadfNotifyRendered=e}notifyRendered(){var t,e;const n={adNum:this.hint.adNum||0,adProdSetCode:this.hint.adProdSetCode,fetchNum:1,measurableUrl:this.hint.measurableUrl,requestId:this.hint.requestId,sspKPIInfo:this.hint.sspKPIInfo,type:"timeline",uniqueId:this.hint.parentId||"",viewableInfo:null===(t=this.hint.viewableInfoList)||void 0===t?void 0:t[0],viewableTrackingUrlList:null===(e=this.hint.viewableTrackingUrlList)||void 0===e?void 0:e[0],viewableUrl:this.hint.viewableUrl,vimpsMode:this.hint.vimpsMode,isAudit:this.hint.isAudit};this.uadfNotifyRendered(n)}}class K{constructor(t){var e,n,i,r;switch(this.viewableHint=t,null!==(e=(i=this.viewableHint).viewableUrl)&&void 0!==e||(i.viewableUrl=""),null!==(n=(r=this.viewableHint).measurableUrl)&&void 0!==n||(r.measurableUrl=""),this.uadfNotifyRendered=window.YJ_UADF.YADSViewable.notifyRendered,this.viewableHint.viewableType){case"noAd":this.viewableNotifier=new E(this.viewableHint);break;case"stream":this.viewableNotifier=new z(this.viewableHint,this.uadfNotifyRendered);break;case"timeline":this.viewableNotifier=new W(this.viewableHint,this.uadfNotifyRendered);break;case"richAd":this.viewableNotifier=new q(this.viewableHint,this.uadfNotifyRendered);break;case"frame":this.viewableNotifier=new s(this.viewableHint);break;default:this.viewableNotifier=this.getViewableNotifier()}}getViewableNotifier(){if("js_single"===this.viewableHint.outputType||"js_responsive"===this.viewableHint.outputType)return this.viewableHint.parentId?new J(this.viewableHint,this.uadfNotifyRendered):new B(this.viewableHint,this.uadfNotifyRendered)}notifyRendered(){var t;null===(t=this.viewableNotifier)||void 0===t||t.notifyRendered()}}class ${constructor(t,e){this.ydaAds=t,this.ydaMetaInfo=e}render(){const t=this.insertProvisionalTarget();H(this.ydaMetaInfo.callback,this.ydaMetaInfo.js_file_name,this.ydaMetaInfo.output_type,()=>this.renderAfterLoaded(t))}renderAfterLoaded(t){const e=r.a.getFunctionObject(this.ydaMetaInfo.callback);r.a.callUITemplate(e,this.ydaAds,this.ydaMetaInfo.positions,this.ydaMetaInfo.output_type,t||this.ydaMetaInfo.targetID,this.ydaMetaInfo.mixed_params),this.insert3rdScripts(t),L(this.ydaMetaInfo.imps_url),L(this.ydaMetaInfo.tracking_url),L(this.ydaMetaInfo.cookiesync_url),Y(this.ydaMetaInfo.traffic_verify_tag),this.notifyRendered(t)}insertProvisionalTarget(){var t,e;const n=this.ydaMetaInfo.targetID,i=n&&document.getElementById(n),s=!!(null===(e=null===(t=null===window||void 0===window?void 0:window.YJ_YADS)||void 0===t?void 0:t.asyncFlags)||void 0===e?void 0:e[n]);if(i||s&&!r.a.isInnerYadsIframe())return"";const o=Math.floor(999999999*Math.random()),a="yads_dummy_parent_".concat(o);return"js_single"===this.ydaMetaInfo.output_type?(document.write('<div id="'.concat(a,'"></div>')),a):(document.body.insertAdjacentHTML("beforeend",'<div id="'.concat(a,'"></div>')),a)}insert3rdScripts(t){if(t){let e=document.getElementById(t);return"js_frame"===this.ydaMetaInfo.output_type&&(e=(null==e?void 0:e.parentElement)||null),void j(e,this.ydaMetaInfo.thirdPartyScriptUrlList)}1===this.ydaMetaInfo.pos_info.length&&j(this.ydaMetaInfo.pos_info[0].p_elem,this.ydaMetaInfo.pos_info[0].third_party_script_tag_url||[])}notifyRendered(t){"js_frame"!==this.ydaMetaInfo.output_type?new K({adProdSetCode:this.ydaMetaInfo.adprodset_code,measurableUrl:this.ydaMetaInfo.measurable_url,outputType:this.ydaMetaInfo.output_type,parentId:this.ydaMetaInfo.targetID||t,positions:this.ydaMetaInfo.positions,requestId:this.ydaMetaInfo.request_id,sspKPIInfo:this.ydaMetaInfo.sspKPIInfo,viewableInfoList:this.ydaMetaInfo.viewableInfoList,viewableTrackingUrlList:this.ydaMetaInfo.viewableTrackingUrlList,viewableType:"other",viewableUrl:this.ydaMetaInfo.viewable_url,vimpsMode:this.ydaMetaInfo.measurable,isAudit:this.ydaMetaInfo.is_audit}).notifyRendered():new K({adProdSetCode:this.ydaMetaInfo.adprodset_code,measurableUrl:this.ydaMetaInfo.measurable_url,outputType:this.ydaMetaInfo.output_type,requestId:this.ydaMetaInfo.request_id,sspKPIInfo:this.ydaMetaInfo.sspKPIInfo,viewableInfoList:this.ydaMetaInfo.viewableInfoList,viewableTrackingUrlList:this.ydaMetaInfo.viewableTrackingUrlList,viewableType:"frame",viewableUrl:this.ydaMetaInfo.viewable_url,vimpsMode:this.ydaMetaInfo.measurable,isAudit:this.ydaMetaInfo.is_audit}).notifyRendered()}isHandle(){return!0}}class G{constructor(t,e){this.ydaAds=t,this.ydaMetaInfo=e}render(){var t,e;if(this.ydaMetaInfo.noad_viewable){const e=null===(t=this.ydaMetaInfo.pos_info[0])||void 0===t?void 0:t.p_elem;new K({adProdSetCode:this.ydaMetaInfo.adprodset_code,measurableUrl:this.ydaMetaInfo.measurable_url,outputType:this.ydaMetaInfo.output_type,parentId:e,requestId:this.ydaMetaInfo.request_id,sspKPIInfo:this.ydaMetaInfo.sspKPIInfo,viewableInfoList:this.ydaMetaInfo.viewableInfoList,viewableTrackingUrlList:this.ydaMetaInfo.viewableTrackingUrlList,viewableType:"noAd",viewableUrl:this.ydaMetaInfo.viewable_url,vimpsMode:this.ydaMetaInfo.measurable,isAudit:this.ydaMetaInfo.is_audit}).notifyRendered()}if(this.canPassback()){const t=U(this.ydaMetaInfo.adprodset_code);return void(null===(e=null==t?void 0:t.passback)||void 0===e||e.call(t))}const n=this.ydaMetaInfo.noad_callback;"string"==typeof n&&r.a.executeCallback(n,[{reason:2}])}canPassback(){return"js_frame"===this.ydaMetaInfo.output_type||"js_responsive"===this.ydaMetaInfo.output_type}isHandle(){return this.ydaAds.every(t=>""==t)}}class Q{constructor(t,e){this.ydaAds=t,this.ydaMetaInfo=e}render(){if(!N())throw new Error("RichAdRenderer has been invoked on a iframe");H(this.ydaMetaInfo.callback,this.ydaMetaInfo.js_file_name,this.ydaMetaInfo.output_type,()=>this.renderAfterLoaded())}renderAfterLoaded(){const t=r.a.getFunctionObject(this.ydaMetaInfo.callback);r.a.callUITemplate(t,this.ydaAds,this.ydaMetaInfo.positions,this.ydaMetaInfo.output_type,this.ydaMetaInfo.targetID,this.ydaMetaInfo.mixed_params),this.insert3rdScripts(this.ydaMetaInfo.targetID,this.ydaMetaInfo.thirdPartyScriptUrlList),L(this.ydaMetaInfo.imps_url),L(this.ydaMetaInfo.tracking_url),L(this.ydaMetaInfo.cookiesync_url),Y(this.ydaMetaInfo.traffic_verify_tag),this.notifyRenderedForRichAd(this.ydaMetaInfo.adprodset_code,this.ydaMetaInfo.measurable_url,this.ydaMetaInfo.output_type,this.ydaMetaInfo.targetID,this.ydaMetaInfo.request_id,this.ydaMetaInfo.sspKPIInfo,this.ydaMetaInfo.viewableInfoList,this.ydaMetaInfo.viewableTrackingUrlList,this.ydaMetaInfo.viewable_url,this.ydaMetaInfo.measurable,this.ydaMetaInfo.is_audit)}insert3rdScripts(t,e){let n=0;const i=()=>{var r,s;const o=(null===(r=document.getElementById("rma-pdv"))||void 0===r?void 0:r.querySelector("*[data-rma-imps]"))||(null===(s=document.getElementById(t))||void 0===s?void 0:s.querySelector("*[data-rma-imps]"));o||n>=5e3?j((null==o?void 0:o.parentElement)||t,e):(n+=100,setTimeout(i,100))};i()}notifyRenderedForRichAd(t,e,n,i,r,s,o,a,d,c,l){new K({adProdSetCode:t,measurableUrl:e,outputType:n,parentId:i,requestId:r,sspKPIInfo:s,viewableInfoList:o,viewableTrackingUrlList:a,viewableType:"richAd",viewableUrl:d,vimpsMode:c,isAudit:l}).notifyRendered()}isHandle(){const t="string"==typeof this.ydaMetaInfo.js_file_name&&/^richad\//.test(this.ydaMetaInfo.js_file_name);return!this.ydaMetaInfo.s2s&&(this.ydaMetaInfo.richad||t)||this.ydaMetaInfo.s2s&&N()}}class X{constructor(t,e){this.ydaAds=t,this.ydaMetaInfo=e}render(){r.a.getFunctionObject(this.ydaMetaInfo.callback)(this.ydaAds,this.ydaMetaInfo.positions,this.ydaMetaInfo.output_type,this.ydaMetaInfo.targetID,this.ydaMetaInfo.request_id,this.ydaMetaInfo.thirdPartyScriptUrlList,this.ydaMetaInfo.adprodset_code,this.ydaMetaInfo.mixed_params),L(this.ydaMetaInfo.imps_url),L(this.ydaMetaInfo.tracking_url),L(this.ydaMetaInfo.cookiesync_url),Y(this.ydaMetaInfo.traffic_verify_tag),this.notifyRenderedForStream(this.ydaMetaInfo.adprodset_code,this.ydaMetaInfo.measurable_url,this.ydaMetaInfo.output_type,this.ydaMetaInfo.request_id,this.ydaMetaInfo.sspKPIInfo,this.ydaMetaInfo.viewableInfoList,this.ydaMetaInfo.viewableTrackingUrlList,this.ydaMetaInfo.viewable_url,this.ydaMetaInfo.measurable,this.ydaMetaInfo.is_audit)}notifyRenderedForStream(t,e,n,i,r,s,o,a,d,c){new K({adProdSetCode:t,measurableUrl:e,outputType:n,requestId:i,sspKPIInfo:r,viewableInfoList:s,viewableTrackingUrlList:o,viewableType:"stream",viewableUrl:a,vimpsMode:d,isAudit:c}).notifyRendered()}isHandle(){return"YAHOO.JP.anemos.yads.stream.poolAds"===this.ydaMetaInfo.callback}}class Z{constructor(t,e){this.ydaAds=t,this.ydaMetaInfo=e}render(){r.a.getFunctionObject(this.ydaMetaInfo.callback)(this.ydaAds,this.ydaMetaInfo.positions,this.ydaMetaInfo.output_type,this.ydaMetaInfo.targetID,this.ydaMetaInfo.request_id,this.ydaMetaInfo.thirdPartyScriptUrlList,this.ydaMetaInfo.adprodset_code),L(this.ydaMetaInfo.imps_url),L(this.ydaMetaInfo.tracking_url),L(this.ydaMetaInfo.cookiesync_url),Y(this.ydaMetaInfo.traffic_verify_tag),this.notifyRenderedForTimeline(this.ydaAds.length,this.ydaMetaInfo.adprodset_code,this.ydaMetaInfo.measurable_url,this.ydaMetaInfo.output_type,this.ydaMetaInfo.targetID,this.ydaMetaInfo.request_id,this.ydaMetaInfo.sspKPIInfo,this.ydaMetaInfo.viewableInfoList,this.ydaMetaInfo.viewableTrackingUrlList,this.ydaMetaInfo.viewable_url,this.ydaMetaInfo.measurable,this.ydaMetaInfo.is_audit)}notifyRenderedForTimeline(t,e,n,i,r,s,o,a,d,c,l,u){new K({adNum:t,adProdSetCode:e,measurableUrl:n,outputType:i,parentId:r,requestId:s,sspKPIInfo:o,viewableInfoList:a,viewableTrackingUrlList:d,viewableType:"timeline",viewableUrl:c,vimpsMode:l,isAudit:u}).notifyRendered()}isHandle(){return"yadsTimelinePoolAds"===this.ydaMetaInfo.callback||"window.YJ_YADS.yadsTimelineMulti.poolAds"===this.ydaMetaInfo.callback}}class tt{constructor(t,e){if(!Array.isArray(t)||!e)return;const n=this.initYDAMetaInfo(e);this.callHooks(n.targetID);const i=new G(t,n);if(i.isHandle())return void(this.renderer=i);if(!this.validParentElementState(n))return;if(!n.callback||"string"!=typeof n.callback)return;const r=[Z,X,Q,V];for(const e of r){const i=new e(t,n);if(i.isHandle())return void(this.renderer=i)}const s=new $(t,n);this.renderer=s}initYDAMetaInfo(t){var e,n,i,r,s;"js_pframe"===t.output_type&&(t.output_type="js_frame"),1==(null===(e=t.pos_info)||void 0===e?void 0:e.length)&&(t.pos_info[0].third_party_script_tag_url=this.removeMoatVideoTag(t.pos_info[0].third_party_script_tag_url)),t.imps_url||(t.imps_url=[]),t.cookiesync_url||(t.cookiesync_url=[]),t.viewable_url||(t.viewable_url=""),t.measurable_url||(t.measurable_url=""),t.noad_viewable=!0===t.noad_viewable,t.traffic_verify_tag||(t.traffic_verify_tag=""),t.mixed_params||(t.mixed_params=null),t.is_audit=1===t.is_audit?1:0,t.thirdPartyScriptUrlList=(null===(i=null===(n=t.pos_info)||void 0===n?void 0:n[0])||void 0===i?void 0:i.third_party_script_tag_url)||[],t.positions=[],t.viewableInfoList=[],t.viewableTrackingUrlList=[],Array.isArray(t.pos_info)&&1==t.pos_info.length&&(t.positions.push(t.pos_info[0].p_elem),t.pos_info[0].viewable_info&&(t.viewableInfoList.push(t.pos_info[0].viewable_info),t.viewableTrackingUrlList.push(t.pos_info[0].viewable_tracking_url),t.pos_info[0].ssp_kpi_info&&(t.sspKPIInfo=t.pos_info[0].ssp_kpi_info))),t.positions[0]&&""!=t.positions[0]?t.targetID=t.positions[0]:t.positions=null;const o=t.adprodset_code.split("-")[0];return(null===(s=null===(r=window.YJ_YADS)||void 0===r?void 0:r.timelineChecker)||void 0===s?void 0:s.has(o))&&["84112_235161","98330_235274","84112_235275","84112_291992","84112_291994","84112_291995","98330_258749","104421_270659","86057_271834","67042_276973","67042_284833","67042_284835","67042_284836","67042_284837","67042_284838","67042_284839","67042_284840","67042_284841","67042_284842","67042_284843","67042_284844","67042_284845","67042_284846","67042_284847","67042_284848","67042_284849","67042_284850","67042_284851","22033_314472","67042_557911","67042_557925","67042_557926","67042_585165","67042_677063","67042_677065","84112_235273","98330_235285","84112_235283","84112_291996","84112_291997","84112_291998","98330_258750","38353_270660","16429_271842","67043_276976","67042_284853","67042_284855","67042_284857","67042_284858","67042_284859","67042_284861","67042_284863","67042_284864","67042_284865","67042_284866","67042_284867","67042_284868","67042_284869","67042_284870","67042_284872","67042_284873","67042_284875","67042_284876","22033_314480","67042_557912","67042_557928","67042_557930","67042_585167","67042_677064","67042_677066","60766_543045","60766_543046","60766_543052","60766_543053"].includes(o)&&(t.callback="yadsTimelinePoolAds",t.js_file_name=""),t}removeMoatVideoTag(t){return null==t?void 0:t.filter(t=>!/^https:\/\/z\.moatads\.com\/yahoojapancustomvideo454271145840\/moatvideo\.js/.test(t))}validParentElementState(t){return"js_single"!==t.output_type&&"js_responsive"!==t.output_type||!t.targetID||!!document.getElementById(t.targetID)}render(){var t;null===(t=this.renderer)||void 0===t||t.render()}callHooks(t){if(!t)return;const e=document.getElementById(t);if(!e)return;const n=e;if(n.renderAdHooks)for(;n.renderAdHooks.length>0;){const e=n.renderAdHooks.shift();try{e()}catch(t){}}}}class et{constructor(){this.managers={},this.poolAds=this.poolAds.bind(this)}dispatch(t,e){var n,i;this.setManager(t);const r=t.getManagerId();null===(n=this.managers[r])||void 0===n||n.registerInsertId(e),null===(i=this.managers[r])||void 0===i||i.insert()}setManager(t){const e=t.getManagerId();this.managers[e]||(this.managers[e]=t)}fetchManager(t){for(const e in this.managers)if(e.includes(t))return this.managers[e]}adprodsetCodeToDsName(t){if(!t)return"";const e=t.split("-");return 3===e.length?e[0]:""}poolAds(t,e,n,i,r,s,o){const a=this.adprodsetCodeToDsName(o),d=this.fetchManager(a);null==d||d.poolAds(t,s)}}class nt{static stringifyMessage(t){return"resizeFrame"===t.cmd?t.cmd+","+t.width+","+t.height:""}static passback(){var t;if(!r.a.isInnerYadsIframe())return;const e=new w(window.YJ_YADS,"deliverProduct").fetchOnIframe();null===(t=null==e?void 0:e.passback)||void 0===t||t.call(e)}static adDone(){o.adDone()}}function it(t,e,n,i,r){var s,o,a=document.createElement("script"),d=[];e={adData:{ids:e,duration:n,url:r},dispatchEvent:function(t){this.sendEvent?(d&&(d.push(t),t=d,d=!1),this.sendEvent(t)):d.push(t)}},n="_moatApi"+Math.floor(1e8*Math.random());try{o=(s=t.ownerDocument).defaultView||s.parentWindow}catch(t){s=document,o=window}return o[n]=e,a.type="text/javascript",t&&t.insertBefore(a,t.childNodes[0]||null),a.src="https://z.moatads.com/"+i+"/moatvideo.js#"+n,e}class rt{bind(){var t;void 0===window.YJ_YADS&&(window.YJ_YADS={}),window.YAHOO=window.YAHOO||{},window.YAHOO.JP=window.YAHOO.JP||{},window.YAHOO.JP.anemos=window.YAHOO.JP.anemos||{},window.YAHOO.JP.anemos.yads=window.YAHOO.JP.anemos.yads||{},window.YJ_YADS.XUSE=window.YJ_YADS.XUSE||{},window.YAHOO.JP.anemos.yads.ydn=window.YAHOO.JP.anemos.yads.ydn||{},window.YAHOO.JP.anemos.yads.ydn.position=window.YAHOO.JP.anemos.yads.ydn.position||{},window.YAHOO.JP.anemos.yads.ydn.position.SQB=window.YAHOO.JP.anemos.yads.ydn.position.SQB||{},this.deliverProductRepository=new w(window.YJ_YADS,"deliverProduct"),this.runOnlyOneTimeOnSameContext(),window.gAdController=nt,window.yadsDispatchDeliverProduct=this.yadsDispatchDeliverProduct(),window.yadsRenderAd_v2=this.renderYDAHelper,window.YJ_YADS.XUSE&&(window.YJ_YADS.XUSE.passback=this.passbackFromXUSE),window.YJ_YADS.passback=nt.passback,window.YJ_YADS.adDone=nt.adDone,window.YJ_YADS.addDocumentViewInListener=R,window.YJ_YADS.addDocumentViewOutListener=P,window!==window.top&&window.addEventListener("message",C,!1),window.YJ_YADS.visibilitychangeListenFlag||(document.addEventListener(T,D,!1),window.YJ_YADS.visibilitychangeListenFlag=!0),window.YJ_YADS.innerFuncs=r.a,window.yadsInnerFuncs=r.a,window.YJ_YADS.pvTs=window.YJ_YADS.pvTs||Date.now(),window.YJ_YADS.observeFrame||(window.YJ_YADS.observeFrame=i,null===(t=window.YJ_YADS.observeFrame)||void 0===t||t.listen()),window.YJ_YADS.initMoatTracking=window.YJ_YADS.initMoatTracking||it,function(){function t(t){if(!t)return;const e=function(t){var e,n;let i=-1,s="";if(r.a.isInnerYadsIframe()){const t=new w(window.YJ_YADS,"deliverProduct").fetchOnIframe(),r=null==t?void 0:t.deliverProduct;if(r instanceof u){const t=r.getCurrentProduct();i=null!==(e=null==t?void 0:t.adprodType)&&void 0!==e?e:-1,s=null!==(n=null==t?void 0:t.adprodsetCode)&&void 0!==n?n:""}}const o={tk:"a72060e2-2747-4fff-a64b-84850dcd9e77",r:[]};for(const e of t)"HeavyAdIntervention"==e.body.id&&o.r.push({p:"intervention",d:"heavy_ad",data:{adprodtype:i,adprodsetcode:s,type:e.type,url:e.url,id:e.body.id,message:e.body.message,ext:(()=>{const t=document.querySelectorAll("video"),e=Array.from(t,t=>t.src);return JSON.stringify(e)})()}});return 0===o.r.length?null:JSON.stringify(o)}(t);e&&navigator.sendBeacon("https://dsb.yahoo.co.jp/api/v1/stream",e)}if(!("ReportingObserver"in window))return;const e=new window.ReportingObserver(e=>{t(e)},{types:["intervention"],buffered:!0});e.observe(),window.addEventListener("pagehide",()=>{t(e.takeRecords())})}(),window.YJ_YADS.tasks=window.YJ_YADS.tasks||[],window.YJ_YADS.yadsTimelineMulti=window.YJ_YADS.yadsTimelineMulti||new et,window.YAHOO.JP.anemos.yads.ydn.position.SQB.renderAd||(window.YAHOO.JP.anemos.yads.ydn.position.SQB.renderAd=y.renderAd)}yadsDispatchDeliverProduct(){return t=>{const e=new b.a;try{const e=new g(t);this.deliverProductRepository.store(t.dsCode,e),e.dispatch({startProductIndex:window.YJ_YADS.start_prod_num})}catch(t){e.error(new h.a(t))}}}renderYDAHelper(t,e){const n=new b.a;try{new tt(t,e).render(),r.a.isInnerYadsIframe()?window.parent.postMessage({cmd:"logReferrer",requestID:e.request_id},"*"):k.logReferrer({cmd:"logReferrer",requestID:e.request_id})}catch(t){n.error(new h.a(t))}}runOnlyOneTimeOnSameContext(){window.YJ_YADS.onetime||(window.YJ_YADS.onetime=!0,(new k).listen())}passbackFromXUSE(t){var e;const n=new w(window.YJ_YADS,"deliverProduct").fetch(t);null===(e=null==n?void 0:n.passback)||void 0===e||e.call(n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n(1),n(38),n(24);const i=t=>{const e=e=>{t.cookie=(t=>t.domain?`${t.key}=${t.value}; path=${t.path}; expires=${t.expires.toUTCString()}; domain=${t.domain}`:`${t.key}=${t.value}; path=${t.path}; expires=${t.expires.toUTCString()};`)(e)},n=e=>{const n=t.cookie.split(/;\s*/).find(t=>{const[n,i]=t.split("=");return n===e});if(!n)return"";const[,i]=n.split("=");return decodeURIComponent(i)};return{set:e,getValue:n,setEtLDPlusOne:i=>{const o=t.location.hostname;return s(o)?r(o).some(r=>{const s=t.cookie,o=((t,e)=>({key:t.key,value:t.value,path:t.path,expires:t.expires,domain:e}))(i,r);return e(o),s!==t.cookie||o.value===n(o.key)})?{type:"success"}:{type:"fail"}:{type:"invalid-hostname"}}}},r=t=>{const e=t.split(".");if(4===e.length&&e[3].match(/^[0-9]*$/))return[];const n=[];for(let t=e.length-2;t>=0;t--)n.push(e.slice(t).join("."));return n},s=t=>{const e=t.split(".");return 4!==e.length||!e[3].match(/^[0-9]*$/)},o="_yjsu_yjad",a=t=>{return`${e=t.timestamp,Math.floor(e.getTime()/1e3)}.${t.uuid}`;var e},d=t=>{const[e,n]=t.split(".");return{key:o,timestamp:new Date(1e3*parseInt(e)),uuid:n}},c=()=>{const t=new Uint8Array(16);window.crypto.getRandomValues(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128;const e=Array.from(t,t=>("0"+t.toString(16)).slice(-2));return[e.slice(0,4).join(""),e.slice(4,6).join(""),e.slice(6,8).join(""),e.slice(8,10).join(""),e.slice(10,16).join("")].join("-")},l=t=>(t=>{if(!t)return!1;const e=t.split(".");return 2===e.length&&(/^\d{10,}$/.test(e[0])&&(n=e[1],/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n)));var n})(t);function u(){var t;const e=(({cookieSuid:t,localStorageSuid:e})=>{if(l(t))return{type:"valid",siteUserId:d(t)};if(l(e)){const t=d(e);return(t=>{const e=Date.now(),n=new Date(t.getTime());return n.setDate(n.getDate()+90),n.getTime()<=e})(t.timestamp)?{type:"invalid"}:{type:"valid",siteUserId:t}}return{type:"invalid"}})({cookieSuid:i(document).getValue(o),localStorageSuid:null!==(t=localStorage.getItem(o))&&void 0!==t?t:""});return"valid"===e.type?e.siteUserId.uuid:null}class h{constructor(){var t;this.userInput={},this.PARAMETER_LIST=[{name:"s",tagName:"yads_ad_ds",init:""},{name:"fr_id",init:this.getFrId()},{name:"p_elem",tagName:"yads_parent_element",init:""},{name:"noad_cb",tagName:"yads_noad_callback",init:""},{name:"bucket_id",tagName:"yads_bucket_id",init:""},{name:"type",tagName:"yads_type_tag",init:"",max:256},{name:"u",init:this.getLocation()},{name:"debug",tagName:"yads_ad_debug",init:""},{name:"autoplay_set",tagName:"yads_video_autoplay_set",init:""},{name:"pv_ts",init:null!==(t=window.YJ_YADS.pvTs)&&void 0!==t?t:""},{name:"pcat_id",tagName:"yads_placement_category_id",init:""},{name:"shannon_id",tagName:"yads_shannon_id",init:""},{name:"search_keyword",init:"",tagName:"yads_search_word_kw"},{name:"seq",tagName:"yads_request_seq",init:""},{name:"cu",init:this.getCanonicalURL()},{name:"suid",tagName:"yads_is_issue_suid",init:""}],this.initialized=!1,this.PARAMETER_NUM=this.PARAMETER_LIST.length,this.params=[],this.initialized=!1,this.userInput={}}getVal(t,e){const n=t.init;if(void 0===t.tagName)return n;const i=e[t.tagName];if(null==i)return n;if("string"==typeof i){const e=void 0!==t.max?t.max:i.length;return i.substring(0,e)}return i}init(t){if(!this.initialized&&void 0!==t){this.userInput=t;for(let e=0;e<this.PARAMETER_NUM;e++){const n=this.PARAMETER_LIST[e],i=this.getVal(n,t);this.params.push({name:n.name,val:i})}this.initialized=!0,this.setParam("suid",!1===t.yads_is_issue_suid?"":u()||function(){const t={key:o,timestamp:new Date,uuid:c()},e={key:o,path:"/",domain:void 0,expires:(t=>{const e=new Date(t.getTime());return e.setFullYear(e.getFullYear()+1),e})((n=t).timestamp),value:a(n)};var n;i(document).setEtLDPlusOne(e);const r=(t=>({key:o,value:a(t)}))(t);return localStorage.setItem(r.key,r.value),t.uuid}())}}setParam(t,e){if(this.initialized)for(let n=0;n<this.PARAMETER_NUM;n++)this.params[n].name===t&&(this.params[n].val=e)}getParamByName(t){if(!this.initialized)return null;for(let e=0;e<this.PARAMETER_NUM;e++)if(this.params[e].name===t)return this.params[e];return null}getAllParams(){return this.initialized?this.params:null}getQueryString(){if(!this.initialized)return"";const t=[];for(let e=0;e<this.PARAMETER_NUM;e++){const n=this.params[e];""!==n.val&&t.push(n.name+"="+window.encodeURIComponent(n.val))}return t.join("&")}clearUserInput(){if(void 0!==this.userInput)for(let t=0;t<this.PARAMETER_NUM;t++){const e=this.PARAMETER_LIST[t];void 0!==e.tagName&&(this.userInput[e.tagName]=void 0)}}encodeURL(t){return new URL(t).href}getLocation(){let t=window.location.href;if(window.parent!=window){const e=document.referrer;e&&(t=e)}return this.encodeURL(t)}getCanonicalURL(){const t=function(){const t=document.getElementsByTagName("link");for(const e of t)if("string"==typeof e.rel&&"canonical"===e.rel.toLowerCase()&&e.href)return e.href;return""}();return t?this.encodeURL(t):""}getFrId(){const t=Math.floor(1e7*Math.random());return void 0!==window.YJ_YADS.yads_sequence_num?"yads_".concat(t,"-").concat(window.YJ_YADS.yads_sequence_num):"yads_".concat(t,"-0")}}},function(t,e,n){"use strict";var i=n(2),r=n(20),s=n(15),o=n(115),a=i("".replace),d=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(t){return function(e){var n=s(r(e));return 1&t&&(n=a(n,d,"")),2&t&&(n=a(n,c,"$1")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},function(t,e,n){"use strict";var i=n(49).PROPER,r=n(3),s=n(115);t.exports=function(t){return r((function(){return!!s[t]()||"​᠎"!=="​᠎"[t]()||i&&s[t].name!==t}))}},function(t,e,n){"use strict";n(131);var i,r=n(23),s=n(7),o=n(116),a=n(5),d=n(77),c=n(2),l=n(14),u=n(117),h=n(118),f=n(10),p=n(133),m=n(134),v=n(120),g=n(52).codeAt,w=n(140),y=n(15),b=n(28),_=n(121),I=n(122),S=n(18),A=S.set,O=S.getterFor("URL"),E=I.URLSearchParams,k=I.getState,T=a.URL,M=a.TypeError,R=a.parseInt,P=Math.floor,x=Math.pow,D=c("".charAt),C=c(/./.exec),L=c([].join),Y=c(1..toString),U=c([].pop),j=c([].push),F=c("".replace),N=c([].shift),H=c("".split),V=c("".slice),B=c("".toLowerCase),q=c([].unshift),J=/[a-z]/i,z=/[\d+-.a-z]/i,W=/\d/,K=/^0x/i,$=/^[0-7]+$/,G=/^\d+$/,Q=/^[\da-f]+$/i,X=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Z=/[\0\t\n\r #/:<>?@[\\\]^|]/,tt=/^[\u0000-\u0020]+/,et=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,nt=/[\t\n\r]/g,it=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)q(e,t%256),t=P(t/256);return L(e,".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,s=0;s<8;s++)0!==t[s]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=s),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=Y(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},rt={},st=p({},rt,{" ":1,'"':1,"<":1,">":1,"`":1}),ot=p({},st,{"#":1,"?":1,"{":1,"}":1}),at=p({},ot,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),dt=function(t,e){var n=g(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},ct={ftp:21,file:null,http:80,https:443,ws:80,wss:443},lt=function(t,e){var n;return 2===t.length&&C(J,D(t,0))&&(":"===(n=D(t,1))||!e&&"|"===n)},ut=function(t){var e;return t.length>1&&lt(V(t,0,2))&&(2===t.length||"/"===(e=D(t,2))||"\\"===e||"?"===e||"#"===e)},ht=function(t){return"."===t||"%2e"===B(t)},ft={},pt={},mt={},vt={},gt={},wt={},yt={},bt={},_t={},It={},St={},At={},Ot={},Et={},kt={},Tt={},Mt={},Rt={},Pt={},xt={},Dt={},Ct=function(t,e,n){var i,r,s,o=y(t);if(e){if(r=this.parse(o))throw new M(r);this.searchParams=null}else{if(void 0!==n&&(i=new Ct(n,!0)),r=this.parse(o,null,i))throw new M(r);(s=k(new E)).bindURL(this),this.searchParams=s}};Ct.prototype={type:"URL",parse:function(t,e,n){var r,s,o,a,d,c=this,l=e||ft,u=0,h="",p=!1,g=!1,w=!1;for(t=y(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=F(t,tt,""),t=F(t,et,"$1")),t=F(t,nt,""),r=m(t);u<=r.length;){switch(s=r[u],l){case ft:if(!s||!C(J,s)){if(e)return"Invalid scheme";l=mt;continue}h+=B(s),l=pt;break;case pt:if(s&&(C(z,s)||"+"===s||"-"===s||"."===s))h+=B(s);else{if(":"!==s){if(e)return"Invalid scheme";h="",l=mt,u=0;continue}if(e&&(c.isSpecial()!==f(ct,h)||"file"===h&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=h,e)return void(c.isSpecial()&&ct[c.scheme]===c.port&&(c.port=null));h="","file"===c.scheme?l=Et:c.isSpecial()&&n&&n.scheme===c.scheme?l=vt:c.isSpecial()?l=bt:"/"===r[u+1]?(l=gt,u++):(c.cannotBeABaseURL=!0,j(c.path,""),l=Pt)}break;case mt:if(!n||n.cannotBeABaseURL&&"#"!==s)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"===s){c.scheme=n.scheme,c.path=v(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Dt;break}l="file"===n.scheme?Et:wt;continue;case vt:if("/"!==s||"/"!==r[u+1]){l=wt;continue}l=_t,u++;break;case gt:if("/"===s){l=It;break}l=Rt;continue;case wt:if(c.scheme=n.scheme,s===i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query;else if("/"===s||"\\"===s&&c.isSpecial())l=yt;else if("?"===s)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query="",l=xt;else{if("#"!==s){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.path.length--,l=Rt;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query,c.fragment="",l=Dt}break;case yt:if(!c.isSpecial()||"/"!==s&&"\\"!==s){if("/"!==s){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Rt;continue}l=It}else l=_t;break;case bt:if(l=_t,"/"!==s||"/"!==D(h,u+1))continue;u++;break;case _t:if("/"!==s&&"\\"!==s){l=It;continue}break;case It:if("@"===s){p&&(h="%40"+h),p=!0,o=m(h);for(var b=0;b<o.length;b++){var _=o[b];if(":"!==_||w){var I=dt(_,at);w?c.password+=I:c.username+=I}else w=!0}h=""}else if(s===i||"/"===s||"?"===s||"#"===s||"\\"===s&&c.isSpecial()){if(p&&""===h)return"Invalid authority";u-=m(h).length+1,h="",l=St}else h+=s;break;case St:case At:if(e&&"file"===c.scheme){l=Tt;continue}if(":"!==s||g){if(s===i||"/"===s||"?"===s||"#"===s||"\\"===s&&c.isSpecial()){if(c.isSpecial()&&""===h)return"Invalid host";if(e&&""===h&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(h))return a;if(h="",l=Mt,e)return;continue}"["===s?g=!0:"]"===s&&(g=!1),h+=s}else{if(""===h)return"Invalid host";if(a=c.parseHost(h))return a;if(h="",l=Ot,e===At)return}break;case Ot:if(!C(W,s)){if(s===i||"/"===s||"?"===s||"#"===s||"\\"===s&&c.isSpecial()||e){if(""!==h){var S=R(h,10);if(S>65535)return"Invalid port";c.port=c.isSpecial()&&S===ct[c.scheme]?null:S,h=""}if(e)return;l=Mt;continue}return"Invalid port"}h+=s;break;case Et:if(c.scheme="file","/"===s||"\\"===s)l=kt;else{if(!n||"file"!==n.scheme){l=Rt;continue}switch(s){case i:c.host=n.host,c.path=v(n.path),c.query=n.query;break;case"?":c.host=n.host,c.path=v(n.path),c.query="",l=xt;break;case"#":c.host=n.host,c.path=v(n.path),c.query=n.query,c.fragment="",l=Dt;break;default:ut(L(v(r,u),""))||(c.host=n.host,c.path=v(n.path),c.shortenPath()),l=Rt;continue}}break;case kt:if("/"===s||"\\"===s){l=Tt;break}n&&"file"===n.scheme&&!ut(L(v(r,u),""))&&(lt(n.path[0],!0)?j(c.path,n.path[0]):c.host=n.host),l=Rt;continue;case Tt:if(s===i||"/"===s||"\\"===s||"?"===s||"#"===s){if(!e&&lt(h))l=Rt;else if(""===h){if(c.host="",e)return;l=Mt}else{if(a=c.parseHost(h))return a;if("localhost"===c.host&&(c.host=""),e)return;h="",l=Mt}continue}h+=s;break;case Mt:if(c.isSpecial()){if(l=Rt,"/"!==s&&"\\"!==s)continue}else if(e||"?"!==s)if(e||"#"!==s){if(s!==i&&(l=Rt,"/"!==s))continue}else c.fragment="",l=Dt;else c.query="",l=xt;break;case Rt:if(s===i||"/"===s||"\\"===s&&c.isSpecial()||!e&&("?"===s||"#"===s)){if(".."===(d=B(d=h))||"%2e."===d||".%2e"===d||"%2e%2e"===d?(c.shortenPath(),"/"===s||"\\"===s&&c.isSpecial()||j(c.path,"")):ht(h)?"/"===s||"\\"===s&&c.isSpecial()||j(c.path,""):("file"===c.scheme&&!c.path.length&&lt(h)&&(c.host&&(c.host=""),h=D(h,0)+":"),j(c.path,h)),h="","file"===c.scheme&&(s===i||"?"===s||"#"===s))for(;c.path.length>1&&""===c.path[0];)N(c.path);"?"===s?(c.query="",l=xt):"#"===s&&(c.fragment="",l=Dt)}else h+=dt(s,ot);break;case Pt:"?"===s?(c.query="",l=xt):"#"===s?(c.fragment="",l=Dt):s!==i&&(c.path[0]+=dt(s,rt));break;case xt:e||"#"!==s?s!==i&&("'"===s&&c.isSpecial()?c.query+="%27":c.query+="#"===s?"%23":dt(s,rt)):(c.fragment="",l=Dt);break;case Dt:s!==i&&(c.fragment+=dt(s,st))}u++}},parseHost:function(t){var e,n,i;if("["===D(t,0)){if("]"!==D(t,t.length-1))return"Invalid host";if(!(e=function(t){var e,n,i,r,s,o,a,d=[0,0,0,0,0,0,0,0],c=0,l=null,u=0,h=function(){return D(t,u)};if(":"===h()){if(":"!==D(t,1))return;u+=2,l=++c}for(;h();){if(8===c)return;if(":"!==h()){for(e=n=0;n<4&&C(Q,h());)e=16*e+R(h(),16),u++,n++;if("."===h()){if(0===n)return;if(u-=n,c>6)return;for(i=0;h();){if(r=null,i>0){if(!("."===h()&&i<4))return;u++}if(!C(W,h()))return;for(;C(W,h());){if(s=R(h(),10),null===r)r=s;else{if(0===r)return;r=10*r+s}if(r>255)return;u++}d[c]=256*d[c]+r,2!=++i&&4!==i||c++}if(4!==i)return;break}if(":"===h()){if(u++,!h())return}else if(h())return;d[c++]=e}else{if(null!==l)return;u++,l=++c}}if(null!==l)for(o=c-l,c=7;0!==c&&o>0;)a=d[c],d[c--]=d[l+o-1],d[l+--o]=a;else if(8!==c)return;return d}(V(t,1,-1))))return"Invalid host";this.host=e}else if(this.isSpecial()){if(t=w(t),C(X,t))return"Invalid host";if(null===(e=function(t){var e,n,i,r,s,o,a,d=H(t,".");if(d.length&&""===d[d.length-1]&&d.length--,(e=d.length)>4)return t;for(n=[],i=0;i<e;i++){if(""===(r=d[i]))return t;if(s=10,r.length>1&&"0"===D(r,0)&&(s=C(K,r)?16:8,r=V(r,8===s?1:2)),""===r)o=0;else{if(!C(10===s?G:8===s?$:Q,r))return t;o=R(r,s)}j(n,o)}for(i=0;i<e;i++)if(o=n[i],i===e-1){if(o>=x(256,5-e))return null}else if(o>255)return null;for(a=U(n),i=0;i<n.length;i++)a+=n[i]*x(256,3-i);return a}(t)))return"Invalid host";this.host=e}else{if(C(Z,t))return"Invalid host";for(e="",n=m(t),i=0;i<n.length;i++)e+=dt(n[i],rt);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return f(ct,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&lt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,i=t.password,r=t.host,s=t.port,o=t.path,a=t.query,d=t.fragment,c=e+":";return null!==r?(c+="//",t.includesCredentials()&&(c+=n+(i?":"+i:"")+"@"),c+=it(r),null!==s&&(c+=":"+s)):"file"===e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==a&&(c+="?"+a),null!==d&&(c+="#"+d),c},setHref:function(t){var e=this.parse(t);if(e)throw new M(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Lt(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+it(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(y(t)+":",ft)},getUsername:function(){return this.username},setUsername:function(t){var e=m(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=dt(e[n],at)}},getPassword:function(){return this.password},setPassword:function(t){var e=m(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=dt(e[n],at)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?it(t):it(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,St)},getHostname:function(){var t=this.host;return null===t?"":it(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,At)},getPort:function(){var t=this.port;return null===t?"":y(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=y(t))?this.port=null:this.parse(t,Ot))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Mt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=y(t))?this.query=null:("?"===D(t,0)&&(t=V(t,1)),this.query="",this.parse(t,xt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=y(t))?("#"===D(t,0)&&(t=V(t,1)),this.fragment="",this.parse(t,Dt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Lt=function(t){var e=h(this,Yt),n=_(arguments.length,1)>1?arguments[1]:void 0,i=A(e,new Ct(t,!1,n));s||(e.href=i.serialize(),e.origin=i.getOrigin(),e.protocol=i.getProtocol(),e.username=i.getUsername(),e.password=i.getPassword(),e.host=i.getHost(),e.hostname=i.getHostname(),e.port=i.getPort(),e.pathname=i.getPathname(),e.search=i.getSearch(),e.searchParams=i.getSearchParams(),e.hash=i.getHash())},Yt=Lt.prototype,Ut=function(t,e){return{get:function(){return O(this)[t]()},set:e&&function(t){return O(this)[e](t)},configurable:!0,enumerable:!0}};if(s&&(u(Yt,"href",Ut("serialize","setHref")),u(Yt,"origin",Ut("getOrigin")),u(Yt,"protocol",Ut("getProtocol","setProtocol")),u(Yt,"username",Ut("getUsername","setUsername")),u(Yt,"password",Ut("getPassword","setPassword")),u(Yt,"host",Ut("getHost","setHost")),u(Yt,"hostname",Ut("getHostname","setHostname")),u(Yt,"port",Ut("getPort","setPort")),u(Yt,"pathname",Ut("getPathname","setPathname")),u(Yt,"search",Ut("getSearch","setSearch")),u(Yt,"searchParams",Ut("getSearchParams")),u(Yt,"hash",Ut("getHash","setHash"))),l(Yt,"toJSON",(function(){return O(this).serialize()}),{enumerable:!0}),l(Yt,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),T){var jt=T.createObjectURL,Ft=T.revokeObjectURL;jt&&l(Lt,"createObjectURL",d(jt,T)),Ft&&l(Lt,"revokeObjectURL",d(Ft,T))}b(Lt,"URL"),r({global:!0,constructor:!0,forced:!o,sham:!s},{URL:Lt})},function(t,e,n){"use strict";var i=n(52).charAt,r=n(15),s=n(18),o=n(71),a=n(51),d=s.set,c=s.getterFor("String Iterator");o(String,"String",(function(t){d(this,{type:"String Iterator",string:r(t),index:0})}),(function(){var t,e=c(this),n=e.string,r=e.index;return r>=n.length?a(void 0,!0):(t=i(n,r),e.index+=t.length,a(t,!1))}))},function(t,e,n){"use strict";var i=n(31),r=n(2);t.exports=function(t){if("Function"===i(t))return r(t)}},function(t,e,n){"use strict";var i=n(7),r=n(2),s=n(8),o=n(3),a=n(69),d=n(75),c=n(72),l=n(25),u=n(66),h=Object.assign,f=Object.defineProperty,p=r([].concat);t.exports=!h||o((function(){if(i&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection");return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!==h({},t)[n]||"abcdefghijklmnopqrst"!==a(h({},e)).join("")}))?function(t,e){for(var n=l(t),r=arguments.length,o=1,h=d.f,f=c.f;r>o;)for(var m,v=u(arguments[o++]),g=h?p(a(v),h(v)):a(v),w=g.length,y=0;w>y;)m=g[y++],i&&!s(f,v,m)||(n[m]=v[m]);return n}:h},function(t,e,n){"use strict";var i=n(77),r=n(8),s=n(25),o=n(135),a=n(137),d=n(138),c=n(70),l=n(139),u=n(119),h=n(78),f=Array;t.exports=function(t){var e=s(t),n=d(this),p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m;v&&(m=i(m,p>2?arguments[2]:void 0));var g,w,y,b,_,I,S=h(e),A=0;if(!S||this===f&&a(S))for(g=c(e),w=n?new this(g):f(g);g>A;A++)I=v?m(e[A],A):e[A],l(w,A,I);else for(_=(b=u(e,S)).next,w=n?new this:[];!(y=r(_,b)).done;A++)I=v?o(b,m,[y.value,A],!0):y.value,l(w,A,I);return w.length=A,w}},function(t,e,n){"use strict";var i=n(9),r=n(136);t.exports=function(t,e,n,s){try{return s?e(i(n)[0],n[1]):e(n)}catch(e){r(t,"throw",e)}}},function(t,e,n){"use strict";var i=n(8),r=n(9),s=n(35);t.exports=function(t,e,n){var o,a;r(t);try{if(!(o=s(t,"return"))){if("throw"===e)throw n;return n}o=i(o,t)}catch(t){a=!0,o=t}if("throw"===e)throw n;if(a)throw o;return r(o),n}},function(t,e,n){"use strict";var i=n(6),r=n(26),s=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[s]===t)}},function(t,e,n){"use strict";var i=n(2),r=n(3),s=n(4),o=n(47),a=n(33),d=n(74),c=function(){},l=a("Reflect","construct"),u=/^\s*(?:class|function)\b/,h=i(u.exec),f=!u.test(c),p=function(t){if(!s(t))return!1;try{return l(c,[],t),!0}catch(t){return!1}},m=function(t){if(!s(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(u,d(t))}catch(t){return!0}};m.sham=!0,t.exports=!l||r((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?m:p},function(t,e,n){"use strict";var i=n(48),r=n(11),s=n(27);t.exports=function(t,e,n){var o=i(e);o in t?r.f(t,o,s(0,n)):t[o]=n}},function(t,e,n){"use strict";var i=n(2),r=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=RangeError,d=i(s.exec),c=Math.floor,l=String.fromCharCode,u=i("".charCodeAt),h=i([].join),f=i([].push),p=i("".replace),m=i("".split),v=i("".toLowerCase),g=function(t){return t+22+75*(t<26)},w=function(t,e,n){var i=0;for(t=n?c(t/700):t>>1,t+=c(t/e);t>455;)t=c(t/35),i+=36;return c(i+36*t/(t+38))},y=function(t){var e,n,i=[],r=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=u(t,n++);if(r>=55296&&r<=56319&&n<i){var s=u(t,n++);56320==(64512&s)?f(e,((1023&r)<<10)+(1023&s)+65536):(f(e,r),n--)}else f(e,r)}return e}(t)).length,s=128,d=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&f(i,l(n));var m=i.length,v=m;for(m&&f(i,"-");v<r;){var y=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=s&&n<y&&(y=n);var b=v+1;if(y-s>c((2147483647-d)/b))throw new a(o);for(d+=(y-s)*b,s=y,e=0;e<t.length;e++){if((n=t[e])<s&&++d>2147483647)throw new a(o);if(n===s){for(var _=d,I=36;;){var S=I<=p?1:I>=p+26?26:I-p;if(_<S)break;var A=_-S,O=36-S;f(i,l(g(S+A%O))),_=c(A/O),I+=36}f(i,l(g(_))),p=w(d,b,v===m),d=0,v++}}d++,s++}return h(i,"")};t.exports=function(t){var e,n,i=[],o=m(p(v(t),s,"."),".");for(e=0;e<o.length;e++)n=o[e],f(i,d(r,n)?"xn--"+y(n):n);return h(i,".")}},function(t,e,n){"use strict";var i=n(5),r=n(7),s=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!r)return i[t];var e=s(i,t);return e&&e.value}},function(t,e,n){"use strict";var i=n(14);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){"use strict";var i=n(120),r=Math.floor,s=function(t,e){var n=t.length;if(n<8)for(var o,a,d=1;d<n;){for(a=d,o=t[d];a&&e(t[a-1],o)>0;)t[a]=t[--a];a!==d++&&(t[a]=o)}else for(var c=r(n/2),l=s(i(t,0,c),e),u=s(i(t,c),e),h=l.length,f=u.length,p=0,m=0;p<h||m<f;)t[p+m]=p<h&&m<f?e(l[p],u[m])<=0?l[p++]:u[m++]:p<h?l[p++]:u[m++];return t};t.exports=s},function(t,e,n){"use strict";n(50)("flatMap")},function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=r(e);n;)n=r(e=n.ownerDocument);return e}(),e=[],n=null,i=null;o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o._setupCrossOriginUpdater=function(){return n||(n=function(t,n){i=t&&n?u(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},o._resetCrossOriginUpdater=function(){n=null,i=null},o.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},o.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},o.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},o.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},o.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var i=this._checkForIntersections,s=null,o=null;this.POLL_INTERVAL?s=n.setInterval(i,this.POLL_INTERVAL):(a(n,"resize",i,!0),a(e,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(o=new n.MutationObserver(i)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(s&&t.clearInterval(s),d(t,"resize",i,!0)),d(e,"scroll",i,!0),o&&o.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=c){var l=r(e);l&&this._monitorIntersections(l.ownerDocument)}}},o.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var i=this.root&&(this.root.ownerDocument||this.root)||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=i;){var s=r(n);if((n=s&&s.ownerDocument)==e)return!0}return!1}))){var s=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),s(),e!=i){var o=r(e);o&&this._unmonitorIntersections(o.ownerDocument)}}}},o.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},o.prototype._checkForIntersections=function(){if(this.root||!n||i){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var r=i.element,o=c(r),a=this._rootContainsTarget(r),d=i.entry,l=t&&a&&this._computeTargetAndRootIntersection(r,o,e),u=null;this._rootContainsTarget(r)?n&&!this.root||(u=e):u={top:0,bottom:0,left:0,right:0,width:0,height:0};var h=i.entry=new s({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:o,rootBounds:u,intersectionRect:l});d?t&&a?this._hasCrossedThreshold(d,h)&&this._queuedEntries.push(h):d&&d.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},o.prototype._computeTargetAndRootIntersection=function(e,r,s){if("none"!=window.getComputedStyle(e).display){for(var o,a,d,l,h,p,m,v,g=r,w=f(e),y=!1;!y&&w;){var b=null,_=1==w.nodeType?window.getComputedStyle(w):{};if("none"==_.display)return null;if(w==this.root||9==w.nodeType)if(y=!0,w==this.root||w==t)n&&!this.root?!i||0==i.width&&0==i.height?(w=null,b=null,g=null):b=i:b=s;else{var I=f(w),S=I&&c(I),A=I&&this._computeTargetAndRootIntersection(I,S,s);S&&A?(w=I,b=u(S,A)):(w=null,g=null)}else{var O=w.ownerDocument;w!=O.body&&w!=O.documentElement&&"visible"!=_.overflow&&(b=c(w))}if(b&&(o=b,a=g,void 0,void 0,void 0,void 0,void 0,void 0,d=Math.max(o.top,a.top),l=Math.min(o.bottom,a.bottom),h=Math.max(o.left,a.left),v=l-d,g=(m=(p=Math.min(o.right,a.right))-h)>=0&&v>=0&&{top:d,bottom:l,left:h,right:p,width:m,height:v}||null),!g)break;w=w&&f(w)}return g}},o.prototype._getRootRect=function(){var e;if(this.root&&!p(this.root))e=c(this.root);else{var n=p(this.root)?this.root:t,i=n.documentElement,r=n.body;e={top:0,left:0,right:i.clientWidth||r.clientWidth,width:i.clientWidth||r.clientWidth,bottom:i.clientHeight||r.clientHeight,height:i.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},o.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var s=this.thresholds[r];if(s==n||s==i||s<n!=s<i)return!0}},o.prototype._rootIsInDom=function(){return!this.root||h(t,this.root)},o.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return h(n,e)&&(!this.root||n==e.ownerDocument)},o.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},o.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=o,window.IntersectionObserverEntry=s}function r(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function s(t){this.time=t.time,this.target=t.target,this.rootBounds=l(t.rootBounds),this.boundingClientRect=l(t.boundingClientRect),this.intersectionRect=l(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function o(t,e){var n,i,r,s=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(s.root&&1!=s.root.nodeType&&9!=s.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(s.rootMargin),this.thresholds=this._initThresholds(s.threshold),this.root=s.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function d(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detachEvent&&t.detachEvent("on"+e,n)}function c(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function u(t,e){var n=e.top-t.top,i=e.left-t.left;return{top:n,left:i,height:e.height,width:e.width,bottom:n+e.height,right:i+e.width}}function h(t,e){for(var n=e;n;){if(n==t)return!0;n=f(n)}return!1}function f(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?r(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function p(t){return t&&9===t.nodeType}}()},,function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(127);function s(t){var e;const n="".concat(t,"-auto-dark"),i='<div id="'.concat(n,'" style="display: none; background-color: canvas; color-scheme: light"></div>');null===(e=document.querySelector("#".concat(t)))||void 0===e||e.insertAdjacentHTML("beforeend",i);const r=document.querySelector("#".concat(n));return!!r&&"rgb(255, 255, 255)"!==window.getComputedStyle(r).backgroundColor}function o(t){if(!window.URL||!window.URLSearchParams)return;const e=new URL("https://yads.yjtag.yahoo.co.jp/b"),n=new URLSearchParams({autodark:t?"1":"0"});e.search=n.toString(),document.createElement("img").src=e.toString()}n(1),n(38),n(24);var a=n(124),d=n(16),c=n(12);function l(t){const e=new c.a;try{if("number"!=typeof window.YJ_YADS.yads_sequence_num?window.YJ_YADS.yads_sequence_num=0:window.YJ_YADS.yads_sequence_num++,!t.yads_ad_ds||!t.yads_parent_element)return;const e=new r.a;e.init(t),n=t.yads_parent_element,window.YJ_YADS||(window.YJ_YADS={}),(null===(l=window.YJ_YADS)||void 0===l?void 0:l.asyncFlags)||(window.YJ_YADS.asyncFlags={}),window.YJ_YADS.asyncFlags[n]=!0,i.a.removeAllChildNodes(t.yads_parent_element),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;1<e||e<=Math.random()||o(s(t))}(t.yads_parent_element),Object(a.a)(),void 0!==t.yads_parent_element&&document.getElementById(t.yads_parent_element)&&async function(t,e){const n=new c.a,r="https://yads.yjtag.yahoo.co.jp/v2/tag?".concat(e.getQueryString());let s;try{const t={method:"GET",credentials:"include",mode:"cors",referrerPolicy:"origin"};window.isSecureContext&&(t.browsingTopics=!0);const e=await fetch(r,t);s=await e.json()}catch(e){s={responseType:"noad",data:{noAdCallback:t.yads_noad_callback||"",reason:2}}}try{!function(t){if(!(null==t?void 0:t.data)||!["dispatch","error","noad"].includes(null==t?void 0:t.responseType))throw Error("type of value isn't JsonTagResponseType ")}(s)}catch(t){n.error(t)}switch(s.responseType){case"noad":i.a.executeCallback(s.data.noAdCallback,[{reason:s.data.reason}]);break;case"dispatch":window.yadsDispatchDeliverProduct(s.data)}}(t,e)}catch(t){e.error(new d.a(t))}var n,l}function u(t,e){if(t)if(e){const n=document.createElement("script");n.type="text/javascript",n.src=t,e.appendChild(n)}else document.write('<script type="text/javascript" src="'+t+'"><\/script>')}!function(t,e,n){var i;if(null===(i=window.YJ_YADS)||void 0===i?void 0:i.loadedStreamConf)return;window.YJ_YADS=window.YJ_YADS||{},window.YJ_YADS.loadedStreamConf=!0,n.conf=[{params:{yads_ad_ds:"60766_11161"},group:[{name:"st_all"}]},{params:{yads_ad_ds:"84112_185264"},group:[{name:"st_geinou"}]},{params:{yads_ad_ds:"98330_185265"},group:[{name:"st_sports"}]},{params:{yads_ad_ds:"84112_212809"},group:[{name:"st_sklt"}]},{params:{yads_ad_ds:""},group:[{name:"st_sklt1"}]},{params:{yads_ad_ds:""},group:[{name:"st_sklt2"}]},{params:{yads_ad_ds:""},group:[{name:"st_sklt3"}]},{params:{yads_ad_ds:"98330_258967"},group:[{name:"st_follow"}]},{params:{yads_ad_ds:""},group:[{name:"st_buzz"}]},{params:{yads_ad_ds:""},group:[{name:"st_topics"}]},{params:{yads_ad_ds:""},group:[{name:"st_extra"}]},{params:{yads_ad_ds:""},group:[{name:"st_fashion"}]},{params:{yads_ad_ds:""},group:[{name:"st_animal"}]},{params:{yads_ad_ds:""},group:[{name:"st_biz"}]},{params:{yads_ad_ds:""},group:[{name:"st_gourmet"}]},{params:{yads_ad_ds:""},group:[{name:"st_it"}]},{params:{yads_ad_ds:""},group:[{name:"st_beauty"}]},{params:{yads_ad_ds:""},group:[{name:"st_trip"}]},{params:{yads_ad_ds:""},group:[{name:"st_cinema"}]},{params:{yads_ad_ds:""},group:[{name:"st_comics"}]},{params:{yads_ad_ds:""},group:[{name:"st_love"}]},{params:{yads_ad_ds:""},group:[{name:"st_music"}]},{params:{yads_ad_ds:""},group:[{name:"st_car"}]},{params:{yads_ad_ds:""},group:[{name:"st_recipe"}]},{params:{yads_ad_ds:""},group:[{name:"st_game"}]},{params:{yads_ad_ds:""},group:[{name:"st_baseball"}]},{params:{yads_ad_ds:""},group:[{name:"st_soccer"}]},{params:{yads_ad_ds:""},group:[{name:"st_healthcare"}]},{params:{yads_ad_ds:""},group:[{name:"st_anime"}]},{params:{yads_ad_ds:""},group:[{name:"st_local"}]},{params:{yads_ad_ds:""},group:[{name:"st_life"}]},{params:{yads_ad_ds:""},group:[{name:"st_money"}]},{params:{yads_ad_ds:""},group:[{name:"st_drama"}]},{params:{yads_ad_ds:""},group:[{name:"st_childcare"}]},{params:{yads_ad_ds:""},group:[{name:"st_golf"}]},{params:{yads_ad_ds:""},group:[{name:"st_outdoor"}]}],n.conf=n.conf.map(t=>(t.params.yads_request_seq=1,t)),n.dsMap={ios:{st_geinou:"84112_235161",st_sports:"98330_235274",st_sklt:"84112_235275",st_sklt1:"84112_291992",st_sklt2:"84112_291994",st_sklt3:"84112_291995",st_follow:"98330_258749",st_buzz:"104421_270659",st_topics:"86057_271834",st_extra:"67042_276973",st_fashion:"67042_284833",st_animal:"67042_284835",st_biz:"67042_284836",st_gourmet:"67042_284837",st_it:"67042_284838",st_beauty:"67042_284839",st_trip:"67042_284840",st_cinema:"67042_284841",st_comics:"67042_284842",st_love:"67042_284843",st_music:"67042_284844",st_car:"67042_284845",st_recipe:"67042_284846",st_game:"67042_284847",st_baseball:"67042_284848",st_soccer:"67042_284849",st_healthcare:"67042_284850",st_anime:"67042_284851",st_local:"22033_314472",st_life:"67042_557911",st_money:"67042_557925",st_drama:"67042_557926",st_childcare:"67042_585165",st_golf:"67042_677063",st_outdoor:"67042_677065"},android:{st_geinou:"84112_235273",st_sports:"98330_235285",st_sklt:"84112_235283",st_sklt1:"84112_291996",st_sklt2:"84112_291997",st_sklt3:"84112_291998",st_follow:"98330_258750",st_buzz:"38353_270660",st_topics:"16429_271842",st_extra:"67043_276976",st_fashion:"67042_284853",st_animal:"67042_284855",st_biz:"67042_284857",st_gourmet:"67042_284858",st_it:"67042_284859",st_beauty:"67042_284861",st_trip:"67042_284863",st_cinema:"67042_284864",st_comics:"67042_284865",st_love:"67042_284866",st_music:"67042_284867",st_car:"67042_284868",st_recipe:"67042_284869",st_game:"67042_284870",st_baseball:"67042_284872",st_soccer:"67042_284873",st_healthcare:"67042_284875",st_anime:"67042_284876",st_local:"22033_314480",st_life:"67042_557912",st_money:"67042_557928",st_drama:"67042_557930",st_childcare:"67042_585167",st_golf:"67042_677064",st_outdoor:"67042_677066"}},n.multiReqDsMap={ios:{st_all:["60766_543045","60766_543046"]},android:{st_all:["60766_543052","60766_543053"]}};const r="yads-async-target-ad";n.makeAdUniqueId=function(t,e){let n="";return window.yads_pv_timestamp&&(n=window.yads_pv_timestamp),[r,n,t,String(e+1)].join("-")};n.renderStaticPositionAd=function(t,e,i,r){n.makeAdHtml(t,"st_stb1",t=>{const e=document.getElementById(r);if(!t||0===t.length||!e)return;const n=t[0];e.innerHTML=n.htmls;for(const t of n.callbacks)t()})},n.makeAdHtml=function(t,e,i){let r="";window.yads_pv_timestamp&&(r=window.yads_pv_timestamp),n.makeUltraVariableAdHtml(t,r,e,i)},n.makeUltraVariableAdHtml=function(t,e,i,r){const s=[];let o=-1;const a=function(r,a,d){var c;const l=null===(c=window.YJ_YADS.innerFuncs)||void 0===c?void 0:c.getFunctionObject(t[r].script.callback);if(!l)return!1;t[r].ytop_data_ylk=function(t,n,r){const s={pvts:e,rsec:"ydn-ad",slk:i,pos:t+1,streamid:i,reqid:n,tabName:i,mpos:0};return r?s.mpos=o:delete s.mpos,s}(r,a,d);const u=n.makeAdUniqueId(i,r);let h={};if(l.callbackVersion){const e=l([t[r]],u);(function(t){var e;return null!=t&&(null===(e=null==t?void 0:t.callbacks)||void 0===e?void 0:e.map(t=>"function"==typeof t))})(e)&&(h={htmls:[e.html],callbacks:e.callbacks.map(e=>()=>{e([t[r]],u)})})}else h=l([t[r]],null,null,u,{returnHtml:!0});return s.push(h),!0},d=function(e){var n;if(e>=t.length)return void r(s);const i=function(t){switch(t.ad_main_type){case"responsive":return 1;case"video":return 2;default:return 0}}(t[e]),c=String(t[0].yadsAdRequestId);t[e].script=function(t){var e;if("object"!=typeof t||null===t)return{};const n=null===(e=null==t?void 0:t.creative_options)||void 0===e?void 0:e.script;return void 0===n||void 0===(null==n?void 0:n.js_file)||void 0===(null==n?void 0:n.callback)?t.script:n}(t[e]);const l=2===i;if(l&&o++,a(e,c,l))d(e+1);else{const i="https://s.yimg.jp/images/listing/tool/yads/"+t[e].script.js_file;null===(n=window.YJ_YADS.innerFuncs)||void 0===n||n.loadScript(i,()=>{a(e,c,l),d(e+1)},!0)}};d(0)}}(window,document,(window.YAHOO=window.YAHOO||{},window.YAHOO.JP=window.YAHOO.JP||{},window.YAHOO.JP.anemos=window.YAHOO.JP.anemos||{},window.YAHOO.JP.anemos.yads=window.YAHOO.JP.anemos.yads||{},window.YAHOO.JP.anemos.yads.stream=window.YAHOO.JP.anemos.yads.stream||{},window.YAHOO.JP.anemos.yads.stream)),n(37),function(t,e,n){var i;if(null===(i=window.YJ_YADS)||void 0===i?void 0:i.loadedStreamLib)return;window.YJ_YADS=window.YJ_YADS||{},window.YJ_YADS.loadedStreamLib=!0;const r=function(t){for(let e=0,i=n.conf.length;e<i;e++)if(n.conf[e].params&&n.conf[e].params.yads_ad_ds===t)return n.conf[e];return null},s=function(t){for(let e=0,i=n.conf.length;e<i;e++){const i=n.conf[e];if(i.group)for(let e=0,n=i.group.length;e<n;e++)if(i.group[e].name===t)return i}return n.conf[0]},o=function(t){return s(t).requested},a=function(t){const e=s(t);if(!e.group||!e.group.length)return null;for(let n=0,i=e.group.length;n<i;n++)if(e.group[n].name===t)return e.group[n];return null},d=function(t,e){if(null===t||"object"!=typeof t)return{};if(null!==e&&"object"==typeof e)return{start_position:e.start_position,interval:e.interval,insert_criteo_rank:e.insert_criteo_rank};if(void 0===(null==t?void 0:t.creative_options))return{start_position:t.start_position,interval:t.interval,insert_criteo_rank:t.insert_criteo_rank};const n=null==t?void 0:t.creative_options;return void 0===(null==n?void 0:n.start_position)||void 0===(null==n?void 0:n.interval)?{start_position:t.start_position,interval:t.interval,insert_criteo_rank:t.insert_criteo_rank}:{start_position:n.start_position,interval:n.interval,insert_criteo_rank:n.insert_criteo_rank}},c=function(t){return"st_all"===t},l=function(t,e,i){var r;return"ios"!==i&&"android"!==i?null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.yads_ad_ds:c(e)?n.multiReqDsMap[i][e][o(e)?1:0]:n.dsMap[i][e]},h=function(t){const e="yads-async-target-"+t.params.yads_ad_ds;if(document.getElementById(e))return;const n=document.createElement("ins");n.id=e,n.className="yads-async-target";const i=document.getElementsByTagName("script")[0];i&&i.parentNode&&i.parentNode.appendChild(n),t.params.yads_parent_element=e},f=function(t,e){for(const e of t.group)if(!c(e.name))return!0;for(const t in n.multiReqDsMap)for(const i in n.multiReqDsMap[t])if(n.multiReqDsMap[t][i][0]===e)return!0;return!1};n.getAdsData=function(t,e,i,r,d,u,f){var p,m;if(!n.conf)return;const v=null!==(p=null!=u?u:window.miffy_yads_bucket_id)&&void 0!==p?p:"",g=null!==(m=null!=f?f:window.miffy_yads_type_tag)&&void 0!==m?m:"",w=a(t);null===w?function(t,e,n){const i=s(t);i.group||(i.group=[]),i.group.push({startPosition:e,interval:n,name:t})}(t,e,i):(w.startPosition=e,w.interval=i);const y=s(t);if(y.isRequestBlocked)window.setTimeout(n.getAdsData,200,t,e,i,r,d);else{if(o(t)){if(n.attachAds(t,y.params.yads_ad_ds,e,i),!c(t)||!function(t){var e,n,i;const r=null===(e=document.getElementsByClassName("yads_stream"))||void 0===e?void 0:e.length,o=null===(i=null===(n=s(t))||void 0===n?void 0:n.ads)||void 0===i?void 0:i.length;return r&&o&&r>o}(t))return;if(window.yadsRequestAsync)return y.params.yads_ad_ds=l(y,t,d),h(y),y.isRequestBlocked=!0,window.yadsRequestAsync(y.params),void y.params.yads_request_seq++}y.params.yads_ad_ds=l(y,t,d),y.requested=!0,y.params.yads_ad_ds&&(y.params.yads_bucket_id=v,y.params.yads_type_tag=g,y.params.yads_video_autoplay_set=String(r),0!==r&&1!==r||(y.params.yads_video_autoplay_set=String(r)),window.yadsRequestAsync&&(h(y),window.yadsRequestAsync(y.params),y.isRequestBlocked=!0))}},n.poolAds=function(t,e,i,s,o,a,c){let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;var u,h;if(!t[0])return;t[0].yadsAdRequestId=o;const p=s.replace("yads-async-target-","");if(!p)return;const m=r(p);if(!m)return;f(m,p)&&(m.firstAdsLength=t.length);const v=d(t[0],l);m.ads=null!==(u=m.ads)&&void 0!==u?u:[],m.ads=m.ads.concat(t),m.defaultStartIndex=v.start_position,m.defaultInterval=v.interval,m.scriptUrls=null!=a?a:[],m.ydnIndex=null!==(h=m.ydnIndex)&&void 0!==h?h:0;for(let t=0,e=m.group.length;t<e;t++)n.attachAds(m.group[t].name,p);m.isRequestBlocked=!1},n.attachAds=function(t,e,i,r){var o;const d=s(t),c=a(t);c&&0!==(null===(o=d.ads)||void 0===o?void 0:o.length)&&n.makeAdHtml&&n.makeAdHtml(d.ads,t,n=>{var o,a;const l=null!==(o=null!=i?i:c.startPosition)&&void 0!==o?o:d.defaultStartIndex,h=null!==(a=null!=r?r:c.interval)&&void 0!==a?a:d.defaultInterval;if(0===n.length||!l||!h||!document.getElementById(t))return;const p=document.getElementById(t);!function(t,e,n,i,r){const o=s(r);let a,d=0;for(let r=0,s=t.length;r<s;r++){if(d=parseInt(e,10)-1+parseInt(n,10)*r,a=i[d],!a)continue;if(a.firstElementChild)continue;if(!t[r])continue;const s=t[r];a.innerHTML=s.htmls;for(const t of s.callbacks)t();u(o.scriptUrls[o.ydnIndex],a),o.ydnIndex<o.scriptUrls.length-1?o.ydnIndex++:o.ydnIndex=0}}(n,l,h,p&&p.getElementsByClassName("yads_stream"),t);try{const n=f(d,e)?0:d.firstAdsLength;window.YJ_UADF.YADSViewable.notifyStreamAttached(e,t,n)}catch(t){return}})}}(window,document,(window.YAHOO=window.YAHOO||{},window.YAHOO.JP=window.YAHOO.JP||{},window.YAHOO.JP.anemos=window.YAHOO.JP.anemos||{},window.YAHOO.JP.anemos.yads=window.YAHOO.JP.anemos.yads||{},window.YAHOO.JP.anemos.yads.stream=window.YAHOO.JP.anemos.yads.stream||{},window.YAHOO.JP.anemos.yads.stream));class h{constructor(t){var e,n,i;this.params=t||{},this.isAdFetched=!1,this.insertReservationIds=[],this.adHtmls=[],this.usedAdNum=0,this.scriptUrls=[],this.ads=[],this.init(),(null===(e=window.YJ_YADS)||void 0===e?void 0:e.timelineChecker)||(window.YJ_YADS.timelineChecker=new Set),null===(i=null===(n=window.YJ_YADS)||void 0===n?void 0:n.timelineChecker)||void 0===i||i.add(t.yads_ad_ds)}init(){if(!this.params.yads_ad_ds)return;window.yadsTimelineManagerList||(window.yadsTimelineManagerList={});const t="yads-timeline-"+this.params.yads_ad_ds+"-"+Math.floor(1e7*Math.random());this.uniqueId=t,window.yadsTimelineManagerList[t]=this,this.fetch()}fetch(){if(!window.yadsRequestAsync)return;const t=document.createElement("ins");t.id=this.uniqueId,(document.head||document.body).appendChild(t),this.params.yads_parent_element=this.uniqueId;const e=String(this.params.yads_video_autoplay_set);window.yadsRequestAsync(Object.assign(Object.assign({},this.params),{yads_video_autoplay_set:e}))}hasMoreAds(){return this.adHtmls.length>0}insertAd(t){if(t){if(!document.getElementById(t))return-1;this.insertReservationIds.push(t)}if(!this.isAdFetched)return 0;if(0===this.adHtmls.length)return 0;for(;this.adHtmls.length>0&&this.insertReservationIds.length>0;){const t=this.insertReservationIds.shift()||"",e=document.getElementById(t);if(!e)continue;const n=this.adHtmls.shift(),i=this.ads.shift();if(n){e.innerHTML=n.htmls;for(const e of n.callbacks)e([i],t);this.usedAdNum+=1,this.notifyForVImps(e,this.usedAdNum)}const r=this.scriptUrls.shift();this.insertScriptTag(r,e)}return 1}insertScriptTag(t,e){if(t)if(e){const n=document.createElement("script");n.type="text/javascript",n.src=t,e.appendChild(n)}else document.write('<script type="text/javascript" src="'+t+'"><\/script>')}notifyForVImps(t,e){var n;const i=null===(n=window.YJ_YADS.innerFuncs)||void 0===n?void 0:n.findViewableTargetElements(t);if(!i||1!==i.length)return;const r=i[0],s=this.uniqueId,o=this.params.yads_ad_ds;window.YJ_UADF.YADSViewable.notifyTimelineAttached(s,o,1,e,r)}}window.YadsTimelineManager=h;const f=t=>{var e;if("object"!=typeof t||null===t)return{};const n=null===(e=null==t?void 0:t.creative_options)||void 0===e?void 0:e.script;return void 0===n||void 0===(null==n?void 0:n.js_file)||void 0===(null==n?void 0:n.callback)?t.script:n},p=(t,e,n,i,r,s)=>{var o;const a=null===(o=window.YJ_YADS.innerFuncs)||void 0===o?void 0:o.getFunctionObject(f(e[n]).callback);if(!a)return!1;const d=r+"-"+n;if(void 0!==t.params.yads_cl_name){const r=[{rank:n+1,requestId:s,yads_cl_name:t.params.yads_cl_name}];i.isVideo&&(r[0].mRank=i.mAdRank),e[n].ytop_data_ylk=g(...r)}let c={};if(a.callbackVersion){const t=a([e[n]],d);(function(t){var e;return null!=t&&(null===(e=null==t?void 0:t.callbacks)||void 0===e?void 0:e.map(t=>"function"==typeof t))})(t)&&(c={htmls:[t.html],callbacks:t.callbacks.map(t=>(e,n)=>{t(e,n)})})}else c=a([e[n]],null,null,d,{returnHtml:!0});return t.adHtmls.push(c),t.ads.push(e[n]),!0},m=function(t,e){return"video"===(null==t?void 0:t.ad_main_type)?{isVideo:!0,mAdRank:e+1}:{isVideo:!1,mAdRank:e}},v=(t,e,n,i,r,s,o)=>{var a;if(n>=r)return t.isAdFetched=!0,void t.insertAd.call(t);const d=m(e[n],i.mAdRank);if(p(t,e,n,d,s,o))v(t,e,n+1,d,r,s,o);else{const i="https://s.yimg.jp/images/listing/tool/yads/"+f(e[n]).js_file;null===(a=window.YJ_YADS.innerFuncs)||void 0===a||a.loadScript(i,()=>{p(t,e,n,d,s,o),v(t,e,n+1,d,r,s,o)},!0)}};window.yadsTimelinePoolAds=function(t,e,n,i,r,s){if(!window.yadsTimelineManagerList||!window.yadsTimelineManagerList[i])return void console.warn("cannot find yadsTimelineManagerList, check Adframe settings, uniqueId: ".concat(i));const o=window.yadsTimelineManagerList[i];if(o.scriptUrls=s||[],!Array.isArray(t))return;const a=t.length;v(o,t,0,m(void 0,0),a,i,r)};const g=function(t){var e;const{rank:n,requestId:i,yads_cl_name:r,mRank:s}=t,o={pvts:null!==(e=window.yads_pv_timestamp)&&void 0!==e?e:"",rsec:"ydn-ad",slk:r,pos:n,streamid:r,reqid:i,tabName:r};return void 0!==s&&(o.mpos=s),o};class w{constructor(){this.managers={}}dispatch(t){if(!t.yads_ad_ds)return void console.error("[YJ_YADS] TypeError: yads_ad_ds are required");const e=this.fetchManager(t);t.yads_insert_target&&e.insertAd(t.yads_insert_target)}fetchManager(t){const e=this.managers[t.yads_ad_ds];if(e)return e;const n=new h({yads_ad_ds:t.yads_ad_ds,yads_type_tag:t.yads_type_tag,yads_video_autoplay_set:t.yads_video_autoplay_set,yads_shannon_id:t.yads_shannon_id,yads_cl_name:t.yads_cl_name,yads_bucket_id:t.yads_bucket_id});return this.managers[t.yads_ad_ds]=n,n}}class y{constructor(t){if(this.validateParameter(t),this.managerId="yads-timeline-"+t.yads_ad_ds_list.map(t=>t.ds).join("-"),this.dsManagers=t.yads_ad_ds_list.map(t=>({ds:t.ds,reqTimes:t.reqTimes,curReq:0})),this.currentDsIndex=0,this.isFetching=!1,this.registeredInsertIds=[],this.adObjs=[],this.thirdPartyScriptUrls=[],this.usedAdNum=0,!document.getElementById(this.managerId)){const t=document.createElement("ins");t.id=this.managerId,(document.head||document.body).appendChild(t)}const e={yads_ad_ds:"",yads_parent_element:this.managerId,yads_request_seq:1},n=Object.assign({},t);delete n.yads_ad_ds_list,delete n.yads_insert_target,delete n.yads_dispatch_style,this.reqParam=Object.assign(Object.assign({},e),n)}registerInsertId(t){this.registeredInsertIds.push(t)}getManagerId(){return this.managerId}insert(){if(!this.isFetching)for(;this.registeredInsertIds.length>0;){if(0===this.adObjs.length)return this.fetch(),void(this.isFetching=!0);const t=this.registeredInsertIds.shift()||"",e=document.getElementById(t);if(!e)continue;const n=this.adObjs.shift();n&&(e.insertAdjacentHTML("afterbegin",n.adHtml),n.callbacks.forEach(e=>e([n.originalAd],t)),this.usedAdNum++,this.notifyForVimps(e,this.usedAdNum));const r=this.thirdPartyScriptUrls.shift()||"";i.a.insertScriptTag(r,t)}}fetch(){const t=this.dsManagers[this.currentDsIndex];t&&(this.reqParam.yads_ad_ds=t.ds,t.curReq++,this.reqParam.yads_request_seq=t.curReq,window.YJ_YADS.tasks.push(this.reqParam),t.curReq>=t.reqTimes&&this.currentDsIndex++)}poolAds(t,e){this.thirdPartyScriptUrls=this.thirdPartyScriptUrls.concat(e),this.setAdObjToManagerSync(t,0)}notifyForVimps(t,e){const n=i.a.findViewableTargetElements(t);1===(null==n?void 0:n.length)&&window.YJ_UADF.YADSViewable.notifyTimelineAttached(this.managerId,this.reqParam.yads_ad_ds||"",1,e,n[0])}getScriptProperty(t){var e;const n=null===(e=null==t?void 0:t.creative_options)||void 0===e?void 0:e.script;return null!=(null==n?void 0:n.js_file)||null!=(null==n?void 0:n.callback)?n:null==t?void 0:t.script}setAdObjToManagerSync(t,e){var n;if(e===t.length)return this.isFetching=!1,void this.insert();if(this.trySetAdObj(t[e],e))this.setAdObjToManagerSync(t,e+1);else{const r=null===(n=this.getScriptProperty(t[e]))||void 0===n?void 0:n.js_file,s="https://s.yimg.jp/images/listing/tool/yads/".concat(r);i.a.loadScript(s,()=>{this.trySetAdObj(t[e],e),this.setAdObjToManagerSync(t,e+1)},!0)}}trySetAdObj(t,e){var n,r;const s=i.a.getFunctionObject(null===(n=this.getScriptProperty(t))||void 0===n?void 0:n.callback);if(!s)return!1;const o="".concat(this.getManagerId(),"-").concat(this.usedAdNum+e);let a;if(s.callbackVersion){const e=s([t],o);a={adHtml:e.html,originalAd:t,callbacks:null===(r=e.callbacks)||void 0===r?void 0:r.map(t=>(e,n)=>{t(e,n)})}}else{const e=s([t],null,null,o,{returnHtml:!0});a={adHtml:e.htmls[0],originalAd:t,callbacks:e.callbacks}}return this.adObjs.push(a),!0}validateParameter(t){t.yads_ad_ds_list&&Array.isArray(t.yads_ad_ds_list)||console.error("[YJ_YADS] TypeError: yads_ad_ds_list is required"),t.yads_ad_ds_list.forEach(t=>{t.ds&&"string"==typeof t.ds||console.error("[YJ_YADS] TypeError: yads_ad_ds_list.ds is required"),t.reqTimes&&"number"==typeof t.reqTimes||console.error("[YJ_YADS] TypeError: yads_ad_ds_list.reqTimes is required")}),t.yads_insert_target||console.error("[YJ_YADS] TypeError: yads_insert_target is required")}}class b{constructor(){window.YJ_YADS=window.YJ_YADS||{},window.YJ_YADS.tasks=window.YJ_YADS.tasks||[],b.yadsTimeline=new w}static get getInstance(){return this.instance||(this.instance=new b),this.instance}observe(){var t=this;if(!Array.isArray(window.YJ_YADS.tasks))return void console.error("[YJ_YADS] TypeError: Cannot handle this data type: ".concat(window.YJ_YADS.tasks));if(Object.getOwnPropertyDescriptor(window.YJ_YADS.tasks,"push"))return;let e;for(Object.defineProperty(window.YJ_YADS.tasks,"push",{value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(e=>{t.dispatch(e)}),0}});void 0!==(e=window.YJ_YADS.tasks.shift());)this.dispatch(e)}dispatch(t){var e,n,i;"timeline"===(null==(i=t)?void 0:i.yads_dispatch_style)&&void 0!==(null==i?void 0:i.yads_ad_ds)?b.yadsTimeline.dispatch(t):(t=>"timelineMulti"===(null==t?void 0:t.yads_dispatch_style)&&void 0!==(null==t?void 0:t.yads_ad_ds_list)&&void 0!==(null==t?void 0:t.yads_insert_target))(t)?null===(e=window.YJ_YADS.yadsTimelineMulti)||void 0===e||e.dispatch(new y(t),t.yads_insert_target):(t=>"stream"===(null==t?void 0:t.yads_dispatch_style)&&void 0!==(null==t?void 0:t.yads_group_name)&&void 0!==(null==t?void 0:t.yads_os_name))(t)?(n=t,YAHOO.JP.anemos.yads.stream.getAdsData(n.yads_group_name,1,1,n.yads_video_autoplay_set,n.yads_os_name,n.yads_bucket_id,n.yads_type_tag)):"s2s"===t.yads_dispatch_style?t.renderer():(t=>void 0!==(null==t?void 0:t.yads_ad_ds)&&void 0!==(null==t?void 0:t.yads_parent_element))(t)&&l(t)}}var _=n(53),I=n(126),S=n(125);Object(S.a)(),(new c.a).debug({fn:"async",version:"1.33.0"}),(new I.a).bind(),function(){const t=new _.a;window.YJ_YADS.isSupported=_.a.isSupported,window.YJ_YADS.setViewInCallback=t.setViewInCallback.bind(t),window.YJ_YADS.setViewOutCallback=t.setViewOutCallback.bind(t),window.YJ_YADS.setViewCallbackElement=_.a.setViewCallbackElement}(),window.yadsRequestAsync=l,b.getInstance.observe()}]);